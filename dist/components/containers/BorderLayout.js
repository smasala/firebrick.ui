/*!
 * @author Steven Masala [me@smasala.com]
 */

define(["./Base","./border/Pane","./GridRow"],function(){return Firebrick.define("Firebrick.ui.containers.BorderLayout",{extend:"Firebrick.ui.containers.GridRow",uiName:"fb-ui-borderlayout",defaults:{uiName:fb.ui.cmp.borderpane},items:null,_maxGridCols:12,defaultSizes:{top:12,right:3,bottom:12,left:3,center:12},height:"auto",init:function(){var e=this;return e.on("rendered",function(){var t=e.getElement(),n=e.height;n!=="auto"?t.css("height",n):t.css("height",t.height())}),e.callParent(arguments)},build:function(){var e=this,t={},n=[],r,i,s,o={uiName:fb.ui.cmp.gridrow,defaults:e.defaults,css:"row-eq-height",items:[]},u=!1;if(e.items){s=e.items.length;if(s){for(var a=0;a<s;a++)r=e.items[a],r.position=r.position.toLowerCase(),i=e._itemArrayPosition(r.position),t[i]=r;for(var f=0;f<5;f++)r=t[f],r&&(r=e._setColDimensions(r,t),f>0&&f<4?o.items.push(r):(o.items.length&&!u&&(u=!0,n.push(o)),n.push({uiName:fb.ui.cmp.gridrow,defaults:e.defaults,items:[r]})));e.items=n}}return e.callParent(arguments)},_itemArrayPosition:function(e){var t;return e==="top"?t=0:e==="left"?t=1:e==="center"?t=2:e==="right"?t=3:e==="bottom"&&(t=4),t},_setColDimensions:function(e,t){var n=this,r=e.position;return r&&(r==="left"?e.columnWidth=e.columnWidth||n.defaultSizes.left:r==="center"?e=n._calcCenterPos(e,t):r==="right"?e=n._calcRightPos(e,t):e.columnWidth=e.columnWidth||12),e},_calcRightPos:function(e,t){var n=this,r=0;return e.columnOffset||(r=n._maxGridCols-(e.columnWidth||n.defaultSizes.right),t[1]&&(r-=t[1].columnWidth||n.defaultSizes.left,r-=t[1].columnOffset||0),t[2]&&(r-=t[2].columnWidth||n.defaultSizes.center,r-=t[2].columnOffset||0),e.columnOffset=r>=0?r:0),e.columnWidth||(e.columnWidth=n.defaultSizes.right),e},_calcCenterPos:function(e){var t=this;return e.columnWidth=t.defaultSizes.center,e.columnOffset=null,e},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'fb-ui-borderlayout'"]=!0,t}})});