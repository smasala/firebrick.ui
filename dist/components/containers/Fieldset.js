/*!
 * @author Steven Masala [me@smasala.com]
 */

define(["text!./Fieldset.html","jquery","../common/mixins/Label"],function(e,t){"use strict";return Firebrick.define("Firebrick.ui.containers.Fieldset",{extend:"Firebrick.ui.containers.Base",mixins:"Firebrick.ui.common.mixins.Label",sName:"containers.fieldset",tpl:e,title:"",collapsible:!1,collapsed:!1,fieldsetBodyClass:"fb-ui-fieldset-body",showLegend:!0,collapsedClass:"collapsed",formHorizontalClass:!0,animated:!0,expandIconClass:"glyphicon-chevron-right",collapseIconClass:"glyphicon-chevron-down",init:function(){var e=this,n=e.callParent();return e.on("rendered",function(){var n=e.getElement(),r=t("> a[data-collapse='"+e.getId()+"']",n);r.on("click",function(){e.collapseClick.apply(e,arguments)})}),n},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'form-horizontal'"]=e.formHorizontalClass,t},collapseClick:function(e){var n=this,r,i,s;e.preventDefault(),r=n.getElement(),i=t("> div."+n.fieldsetBodyClass,r),s=t("> a > legend > span.fb-ui-collapsed-icon",r),i.is(":visible")?(s.removeClass(n.collapseIconClass),s.addClass(n.expandIconClass),r.addClass(n.collapsedClass),i.hide()):(s.removeClass(n.expandIconClass),s.addClass(n.collapseIconClass),r.removeClass(n.collapsedClass),i.show())},legendBindings:function(){return{}},legendTextBindings:function(){var e=this,t={css:{},attr:{},text:e.textBind(e.title)};return t},collapsibleBindings:function(){var e=this,t={css:{"'fb-ui-collapsed-icon'":!0}};return t.css.glyphicon=!0,e.collapsed?t.css[e.parseBind(e.expandIconClass)]=!0:t.css[e.parseBind(e.collapseIconClass)]=!0,t},collapsibleLinkBindings:function(){var e=this,t={attr:{"'data-collapse'":e.parseBind(e.getId())}};return t},contentBindings:function(){var e=this,t={css:{collapsed:e.collapsed}};return t.css[e.parseBind(e.fieldsetBodyClass)]=!0,t}})});