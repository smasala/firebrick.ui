/*!
 * @author Steven Masala [me@smasala.com]
 */

define(["text!./Button.html","./Base","../common/mixins/Badges","./dropdown/List"],function(e){return Firebrick.define("Firebrick.ui.button.Button",{extend:"Firebrick.ui.button.Base",mixins:["Firebrick.ui.common.mixins.Badges"],uiName:"fb-ui-button",tpl:e,text:"",type:"button",dropdownContainerClass:"dropdown",navbarItem:!1,splitButton:!1,btnSize:!1,btnStyle:"default",beforeText:"",afterText:"",loadingText:!1,data:null,dropdownConfig:null,callback:null,srOnlyText:"Toggle Dropdown",init:function(){var e=this;return e.callback&&e.on("rendered",function(){var t=e.getElement();t&&t.on("click",function(){e.callback.apply(e,arguments)})}),e.callParent(arguments)},bindings:function(){var e=this,t=e.callParent(arguments);return t.attr.type=e.parseBind(e.type),t.css.btn=!0,t.attr.autocomplete="'off'",e.btnStyle&&(t.css[e.parseBind("btn-"+e.btnStyle)]=!0),e.btnSize&&(t.css[e.parseBind("btn-"+e.btnSize)]=!0),e.data&&!e.splitButton&&(t.css["'dropdown-toggle'"]=!0,t.attr["'data-toggle'"]="'dropdown'"),e.navbarItem&&(t.css["'navbar-btn'"]=!0),e.loadingText&&(t.attr["'data-loading-text'"]=e.textBind(e.loadingText)),t},buttonTextBindings:function(){var e=this;return{text:e.textBind(e.text)}},caretBindings:function(){return{css:{caret:!0}}},dropdownContainerBindings:function(){var e=this,t={css:{}};return e.splitButton?t.css["'btn-group'"]=!0:e.dropdownContainerClass&&!e.splitButton&&(t.css[e.parseBind(e.dropdownContainerClass)]=!0),t},getDropdown:function(){var e=this,t={uiName:fb.ui.cmp.dropdownlist,data:$.isArray(e.data)?"Firebrick.ui.getCmp('"+e.getId()+"').data":e.data};return t=Firebrick.utils.copyover(t,e.dropdownConfig),e._getItems(t).html},splitButtonBindings:function(){var e=this,t={css:{},attr:{}};return t.attr.type=e.parseBind(e.type),t.css.btn=!0,e.btnStyle&&(t.css[e.parseBind("btn-"+e.btnStyle)]=!0),e.btnSize&&(t.css[e.parseBind("btn-"+e.btnSize)]=!0),e.data&&(t.css["'dropdown-toggle'"]=!0,t.attr["'data-toggle'"]="'dropdown'"),t.attr["'aria-expanded'"]=!1,t},splitButtonSrOnlyBinding:function(){var e=this,t={css:{}};return t.css["'sr-only'"]=!0,t.text=e.textBind(e.srOnlyText),t}})});