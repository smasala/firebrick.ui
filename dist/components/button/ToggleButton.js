/*!
 * @author Steven Masala [me@smasala.com]
 */

define(["text!./ToggleButton.html","knockout","jquery","../common/MultiplesBase"],function(e,t,n){"use strict";return t.bindingHandlers.toggleRenderer||(t.bindingHandlers.toggleRenderer={init:function(e,t,r,i){var s=Firebrick.ui.getCmp(t()),o="btn-"+s.btnStyle,u=n(e),a=r().withProperties.inputItemId;a=Firebrick.ui.utils.getValue(a),u.length&&(i&&(i.btnStyle&&u.attr("class",function(e,t){return t.replace(o,"btn-"+Firebrick.ui.utils.getValue(i.btnStyle))}),i.css&&u.addClass(Firebrick.ui.utils.getValue(i.css))),u.attr("for",a),n("> input",u).attr("id",a))}}),Firebrick.define("Firebrick.ui.button.ToggleButton",{extend:"Firebrick.ui.common.MultiplesBase",sName:"button.togglebutton",subTpl:e,btnGroupClass:!0,btnClass:!0,defaultActive:!1,dataToggle:"buttons",btnStyle:"default",btnSize:"md",options:"''",showLabel:!0,optionsRenderer:"optionsRenderer",btnGroupBindings:function(){var e=this;return{css:{"'btn-group'":e.btnGroupClass},attr:{"'data-toggle'":e.parseBind(e.dataToggle)},foreach:Firebrick.ui.helper.optionString(e)}},toggleInputBindings:function(){var e=this;return{attr:{name:e.parseBind(e.name)},value:"$data.value || $data.text ? $data.value || $data.text : $data"}},toggleLabelBindings:function(){var e=this,t={attr:{id:"$data.labelId || 'fb-ui-id-' + Firebrick.utils.uniqId()"},withProperties:{inputItemId:"$data.id || 'fb-ui-id-' + Firebrick.utils.uniqId()"},css:{active:"Firebrick.ui.getCmp('"+e.getId()+"')._valueChecker("+e.value+", $data)"},toggleRenderer:e.parseBind(e.getId())};return e.btnClass&&(t.css.btn=!0),e.btnStyle&&(t.css[e.parseBind("btn-"+e.btnStyle)]=!0),e.btnSize&&(t.css[e.parseBind("btn-"+e.btnSize)]=!0),t},toggleLabelTextBindings:function(){return{text:"$data.text ? $data.text : $data"}}})});