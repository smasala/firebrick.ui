/*!
 * @author Steven Masala [me@smasala.com]
 */

define(["text!./ToggleButton.html","knockout","jquery","../common/MultiplesBase"],function(e,t,n){return t.bindingHandlers.toggleRenderer={init:function(e,t,r,i,s){var o=Firebrick.ui.getCmp(t()),u="btn-"+o.btnStyle,a=n(e),f=r().withProperties.inputItemId;n.isFunction(f)&&(f=f()),a.length&&(i&&(i.btnStyle&&a.attr("class",function(e,t){return t.replace(u,"btn-"+i.btnStyle())}),i.css&&a.addClass(i.css())),a.attr("for",f),n("> input",a).attr("id",f))}},Firebrick.define("Firebrick.ui.button.ToggleButton",{extend:"Firebrick.ui.common.MultiplesBase",uiName:"fb-ui-togglebutton",subTpl:e,btnGroupClass:!0,btnClass:!0,defaultActive:!1,dataToggle:"buttons",btnStyle:"default",options:"''",showLabel:!0,optionsRenderer:"optionsRenderer",btnGroupBindings:function(){var e=this;return{css:{"'btn-group'":e.btnGroupClass},attr:{"'data-toggle'":e.parseBind(e.dataToggle)},foreach:n.isArray(e.options)?"Firebrick.ui.getCmp('"+e.getId()+"').options":e.options}},toggleInputBindings:function(){var e=this;return{attr:{name:e.parseBind(e.name)},value:"$data.value || $data.text ? $data.value || $data.text : $data"}},toggleLabelBindings:function(){var e=this,t={attr:{id:"$data.labelId || 'fb-ui-id-' + Firebrick.utils.uniqId()"},withProperties:{inputItemId:"$data.id || 'fb-ui-id-' + Firebrick.utils.uniqId()"},css:{active:"Firebrick.ui.getCmp('"+e.getId()+"')._valueChecker("+e.value+", $data)"},toggleRenderer:e.parseBind(e.getId())};return e.btnClass&&(t.css.btn=!0),e.btnStyle&&(t.css[e.parseBind("btn-"+e.btnStyle)]=!0),t},toggleLabelTextBindings:function(){return{text:"$data.text ? $data.text : $data"}}})});