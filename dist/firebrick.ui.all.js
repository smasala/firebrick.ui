/*!
* Firebrick UI
* @author Steven Masala [me@smasala.com]
* @version 0.20.17
* @date
*
* FirebrickUI, component library for Firebrick JS
**/

/*!
 * @author Steven Masala [me@smasala.com]
 */

/*!
* @author Steven Masala [me@smasala.com]
*/

define("firebrick-ui",["jquery","firebrick","knockout","devicejs","knockout-mapping","text","bootstrap"],function(e,t,n,r,i){"use strict";var s=window.Firebrick;n.mapping=i;if(!s){console.error("Firebrick has not been loaded, Firebrick-UI requires Firebrick JS to function");return}if(s.ui){console.error("Firebrick.ui namespace has already been taken!");return}return s._ns.push("Firebrick.ui"),s.ui={version:"0.20.17",build:function(e){var t=this,n=s.views.getTarget(e.target),r,i;return r=t._populate(e.items,e.view),i=r.html,e.view&&r.items.length&&(e.view.items=r.items),n&&n.append(i),i},_populate:function(t,n){var r=this,i=[],o="",u;e.isFunction(t)&&(t=t()),!e.isArray(t)&&t&&(t=[t]);if(e.isArray(t)&&t.length){if(n.defaults){s.utils.merge("defaults",n);for(var a=0,f=t.length;a<f;a++)t[a]=s.utils.copyover(t[a],n.defaults)}for(var l=0,c=t.length;l<c;l++)u=r._buildComponent(t[l],n),o+=u._html,u.getId||console.error("something went wrong",t[l],"is it defined correctly? Check the item name and dependency include"),u.fireEvent("uiBuilt"),i.push(u)}return{html:o,items:i}},_buildComponent:function(e,t){var n=this,r,i;return e.isView?(e._state!=="initial"&&(r=e.init()),r=e):e.viewName?r=s.create(e.viewName,e):(e=n._componentFilter(e),e.uiComponent?r=e:(e.sName&&(e.sName=e.sName.toLowerCase()),i=s.get(e.sName||e),i||console.error("Has",e.sName||e,"been added as a dependency?"),r=s.create(i._classname,e.sName?Object.getPrototypeOf(Object.create(e)):null))),r._parent||(r._parent=t),r.build&&(r._html=r.build()),r},_componentFilter:function(e){if(typeof e=="string")switch(e){case"|":e="display.divider"}return e},getCmp:function(e){return s.getById(e)},get:function(e){return s.get(e)},utils:{_buildDotObj:function(e,t,n){var r=this,i=e.shift();return n=n||{},n[i]={},e.length?e[0]!==""?r._buildDotObj(e,t,n[i]):console.error("error building sName, found empty string",e,i,t):n[i]=t,n},isVisible:function(e,t){var n={offset:t.offset(),height:t.height(),width:t.width()},r={offset:e.offset(),height:e.height(),width:e.width()},i=function(e){return e>n.offset.top&&e<n.offset.left&&e<n.bottom?!0:!1};return n.bottom=n.offset.top+n.height,r.bottom=r.offset.top+r.height,i(r.offset.top)||i(r.offset.top+r.width)||i(r.bottom)||i(r.bottom+r.width)?!0:!1},getValue:function(t){return e.isFunction(t)?t():t},stringify:function(t){if(t){var n=function(t,r){var i=r?"":"{",s,o;for(s in t)t.hasOwnProperty(s)&&(o=t[s],e.isPlainObject(o)?i+=s+":"+n(o):i+=s+": "+o+",");return i=i.substr(-1)===","?i.substring(0,i.length-1):i,i+=r?"":"},",i};return n(t,!0)}return""}},KeyEvents:{DOM_VK_CANCEL:3,DOM_VK_HELP:6,DOM_VK_BACK_SPACE:8,DOM_VK_TAB:9,DOM_VK_CLEAR:12,DOM_VK_RETURN:13,DOM_VK_ENTER:14,DOM_VK_SHIFT:16,DOM_VK_CONTROL:17,DOM_VK_ALT:18,DOM_VK_PAUSE:19,DOM_VK_CAPS_LOCK:20,DOM_VK_ESCAPE:27,DOM_VK_SPACE:32,DOM_VK_PAGE_UP:33,DOM_VK_PAGE_DOWN:34,DOM_VK_END:35,DOM_VK_HOME:36,DOM_VK_LEFT:37,DOM_VK_UP:38,DOM_VK_RIGHT:39,DOM_VK_DOWN:40,DOM_VK_PRINTSCREEN:44,DOM_VK_INSERT:45,DOM_VK_DELETE:46,DOM_VK_0:48,DOM_VK_1:49,DOM_VK_2:50,DOM_VK_3:51,DOM_VK_4:52,DOM_VK_5:53,DOM_VK_6:54,DOM_VK_7:55,DOM_VK_8:56,DOM_VK_9:57,DOM_VK_SEMICOLON:59,DOM_VK_EQUALS:61,DOM_VK_A:65,DOM_VK_B:66,DOM_VK_C:67,DOM_VK_D:68,DOM_VK_E:69,DOM_VK_F:70,DOM_VK_G:71,DOM_VK_H:72,DOM_VK_I:73,DOM_VK_J:74,DOM_VK_K:75,DOM_VK_L:76,DOM_VK_M:77,DOM_VK_N:78,DOM_VK_O:79,DOM_VK_P:80,DOM_VK_Q:81,DOM_VK_R:82,DOM_VK_S:83,DOM_VK_T:84,DOM_VK_U:85,DOM_VK_V:86,DOM_VK_W:87,DOM_VK_X:88,DOM_VK_Y:89,DOM_VK_Z:90,DOM_VK_CONTEXT_MENU:93,DOM_VK_NUMPAD0:96,DOM_VK_NUMPAD1:97,DOM_VK_NUMPAD2:98,DOM_VK_NUMPAD3:99,DOM_VK_NUMPAD4:100,DOM_VK_NUMPAD5:101,DOM_VK_NUMPAD6:102,DOM_VK_NUMPAD7:103,DOM_VK_NUMPAD8:104,DOM_VK_NUMPAD9:105,DOM_VK_MULTIPLY:106,DOM_VK_ADD:107,DOM_VK_SEPARATOR:108,DOM_VK_SUBTRACT:109,DOM_VK_DECIMAL:110,DOM_VK_DIVIDE:111,DOM_VK_F1:112,DOM_VK_F2:113,DOM_VK_F3:114,DOM_VK_F4:115,DOM_VK_F5:116,DOM_VK_F6:117,DOM_VK_F7:118,DOM_VK_F8:119,DOM_VK_F9:120,DOM_VK_F10:121,DOM_VK_F11:122,DOM_VK_F12:123,DOM_VK_F13:124,DOM_VK_F14:125,DOM_VK_F15:126,DOM_VK_F16:127,DOM_VK_F17:128,DOM_VK_F18:129,DOM_VK_F19:130,DOM_VK_F20:131,DOM_VK_F21:132,DOM_VK_F22:133,DOM_VK_F23:134,DOM_VK_F24:135,DOM_VK_NUM_LOCK:144,DOM_VK_SCROLL_LOCK:145,DOM_VK_COMMA:188,DOM_VK_PERIOD:190,DOM_VK_SLASH:191,DOM_VK_BACK_QUOTE:192,DOM_VK_OPEN_BRACKET:219,DOM_VK_BACK_SLASH:220,DOM_VK_CLOSE_BRACKET:221,DOM_VK_QUOTE:222,DOM_VK_META:224},helper:{getHtml:function(t,n,r){var i=s.getById(t),o=i.html;return e.isFunction(o)&&(o=o(n,r)),typeof o=="string"&&n.hasOwnProperty(o)?n[o]:o},tabBuilder:function(t){var n=s.getById(t),r=n.items;return e.isFunction(r)?"Firebrick.getById('"+t+"').items()":e.isArray(r)?"Firebrick.getById('"+t+"').items":r},optionString:function(t){var n=t.options;return e.isFunction(n)?"Firebrick.ui.getCmp('"+t.getId()+"').options()":e.isArray(n)?"Firebrick.ui.getCmp('"+t.getId()+"').options":n},linkBuilder:function(e){if(e){if(typeof e.link=="string")return e.link;if(typeof e.href=="string")return e.href}return!1},callFunction:function(e,t,n){var r=s.getById(e);r&&t&&r[t].apply(r,n)}},renderer:{_registry:{},add:function(e,t){var n=this;return n._registry[e]=t,n},get:function(t){var n=this;return e.isFunction(t)&&(t=t()),n._registry[t]}}},s.classes.overwrite("Firebrick.view.Base",{_ko:null,passDownEvents:{rendered:1,htmlRendered:1,unbound:1,destroy:1},listeners:{uiBuilt:function(){var e=this,t;if(e.passDownEvents){s.utils.merge("passDownEvents",e);for(t in e.passDownEvents)e.passDownEvents.hasOwnProperty(t)&&e._parent&&e._initPassDownEvent(t)}}},_initPassDownEvent:function(e){var t=this,n=t._createPassEvent(t);t._parent.on(e,n),t.on("destroy",function(){n.__isDestroyed=!0})},_createPassEvent:function(e){return function(){var t=this,n=Array.prototype.slice.call(arguments);n=[t.event.eventName].concat(n),e.fireEvent.apply(e,n)}},items:null,tpl:function(){var e=this;if(e.items)return s.ui.build({items:e.items,view:e})}}),function(e){e.bindingHandlers.withProperties={init:function(t,n,r,i,s){var o=s.createChildContext(s.$rawData,null,function(t){e.utils.extend(t,n())});return e.applyBindingsToDescendants(o,t),{controlsDescendantBindings:!0}}},e.bindingHandlers.htmlWithBinding={init:function(){return{controlsDescendantBindings:!0}},update:function(t,n,r,i,s){var o=n();o===null&&(o=""),t.innerHTML=o,e.applyBindingsToDescendants(s,t)}},e.virtualElements.allowedBindings.debug=!0,e.bindingHandlers.debug={init:function(e,t,n,r,i){console.warn("Debug:",e,t(),n(),r,i)}}}(n),s.classes.addLookups({"button.icon":"Firebrick.ui.button.Icon","button.togglebutton":"Firebrick.ui.button.ToggleButton","containers.border.pane":"Firebrick.ui.containers.border.Pane","containers.box":"Firebrick.ui.containers.Box","containers.fieldset":"Firebrick.ui.containers.Fieldset","containers.form":"Firebrick.ui.containers.Form","containers.formpanel":"Firebrick.ui.containers.FormPanel","containers.gridcolumn":"Firebrick.ui.containers.GridColumn","containers.modal":"Firebrick.ui.containers.Modal","containers.panel":"Firebrick.ui.containers.Panel","containers.tab.pane":"Firebrick.ui.containers.tab.Pane","display.alert":"Firebrick.ui.display.Alert","display.divider":"Firebrick.ui.display.Divider","display.header":"Firebrick.ui.display.Header","display.image":"Firebrick.ui.display.Image","display.list":"Firebrick.ui.display.List","display.loader":"Firebrick.ui.display.Loader","display.progress":"Firebrick.ui.display.Progress","display.span":"Firebrick.ui.display.Span","display.text":"Firebrick.ui.display.Text","fields.base":"Firebrick.ui.fields.Base","fields.checkbox":"Firebrick.ui.fields.Checkbox","fields.combobox":"Firebrick.ui.fields.ComboBox","fields.datepicker":"Firebrick.ui.fields.DatePicker","fields.display":"Firebrick.ui.fields.Display","fields.email":"Firebrick.ui.fields.Email","fields.file":"Firebrick.ui.fields.File","fields.hidden":"Firebrick.ui.fields.Hidden","fields.htmleditor":"Firebrick.ui.fields.HtmlEditor","fields.input":"Firebrick.ui.fields.Input","fields.password":"Firebrick.ui.fields.Password","fields.radio":"Firebrick.ui.fields.Radio","fields.selectbox":"Firebrick.ui.fields.SelectBox","fields.textarea":"Firebrick.ui.fields.TextArea","menu.contextmenu":"Firebrick.ui.menu.ContextMenu","nav.breadcrumbs":"Firebrick.ui.nav.Breadcrumbs","nav.list":"Firebrick.ui.nav.List","nav.navbar":"Firebrick.ui.nav.Navbar","nav.pagination":"Firebrick.ui.nav.Pagination","nav.toolbar":"Firebrick.ui.nav.Toolbar","table.table":"Firebrick.ui.table.Table","table.treetable":"Firebrick.ui.table.TreeTable"}),s}),define("Firebrick.ui/common/Base",["doT","jquery","bootstrap.plugins/tooltip","bootstrap.plugins/popover"],function(e,t){"use strict";return Firebrick.define("Firebrick.ui.common.Base",{extend:"Firebrick.view.Base",_idPrefix:"fb-ui-",uiComponent:!0,handlerEvent:"click",handler:null,autoFocus:!1,glyphiconClass:"glyphicon",_build:null,_template:null,tpl:null,subTpl:null,css:null,style:null,sName:null,_element:null,tooltip:!1,tooltipLocation:"top",tooltipOptions:null,popover:!1,popoverTitle:!1,popoverLocation:"top",popoverOptions:null,popoverDismissible:!0,align:null,contextMenu:null,beforeSubTpl:null,afterSubTpl:null,addTooltipPopoverBind:function(e){var n=this;if(n.tooltip||n.popover)if(e&&t.isPlainObject(e)){e.attr||(e.attr={}),e.attr["'data-toggle'"]=n.parseBind(n.tooltip?"tooltip":"popover");if(n.tooltip||n.popoverTitle)e.attr.title=n.textBind(n.tooltip||n.popoverTitle);n.popover&&(e.attr["'data-content'"]=n.textBind(n.popover),e.attr["'data-container'"]="'body'",n.popoverDismissible&&(e.attr["'data-trigger'"]="'focus'")),e.attr["'data-placement'"]=n.parseBind(n.tooltipLocation||n.popoverLocation)}return e},_getElementSelector:function(){var e=this,t=e.enclosedBind?e.getEnclosedBindId():e.getId();return"#"+t},getElement:function(){var e=this;return e._element||(e._element=t(e._getElementSelector()),e._element.length||(e._element=null)),e._element},constructor:function(){var e=this;return e._precompile(),e.callParent(arguments)},_precompile:function(){var e=this,t,n=["tpl","beforeSubTpl","subTpl","afterSubTpl"];e._template={},e._build={};for(var r=0,i=n.length;r<i;r++)t=n[r],e[t]&&e.template(t);return e},b:function(e){return t.isFunction(e)?e.bind(this)():e},init:function(){var e=this;return e.autoRender&&e.getTarget()&&(e.tpl=e.build()),e._registerHandler(),e.on("rendered",function(){var t=e.getElement();e._prepTooltipPopover(),e.contextMenu&&!e.contextMenu._classname&&require(["Firebrick.ui/menu/ContextMenu"],function(){t.on("contextmenu",function(t){var n={_parent:e,contextMenuEvent:t};t.preventDefault(),e._contextMenu=Firebrick.create("Firebrick.ui.menu.ContextMenu",Firebrick.utils.overwrite(n,e.contextMenu))})}),e.autoFocus&&e.focus()}),e.callParent(arguments)},_prepTooltipPopover:function(){var e=this,t,n;if(e.tooltip||e.popover)t=e.getElement(),n=t.offset(),e.tooltip&&t.tooltip(e.tooltipOptions),e.popover&&t.popover(e.popoverOptions);return e},focus:function(){this.getElement().focus()},_registerHandler:function(e,n,r){var i=this;n=n||i.handler,r=r||i.handlerEvent,e=e||i._getElementSelector(),n&&r&&t(document).on(r,e,function(){var e=Array.prototype.slice.call(arguments);e.push(this),n.apply(i,e)})},bindings:function(){var e=this,t={attr:{},css:{}};return e.css&&(t.css[e.parseBind(e.css)]=!0),e.style&&(t.style=e.style),e.addTooltipPopoverBind(t)},template:function(t,n){var r=this;t=t||"tpl";if(!r._template[t]||n)r._template[t]=e.template(r[t]);return r._template[t]},build:function(e){var t=this;return e=e||"tpl",t._build[e]=t._template[e](t),t._build[e]},dataBind:function(){var e=this,n=Firebrick.utils.argsToArray(arguments),r,i;return n&&n.length?r=n.splice(0,1):r="bindings",i=e[r],t.isFunction(i)&&(i=i.apply(e,n)),Firebrick.ui.utils.stringify(i)},getSubTpl:function(){var e=this,t=e.build("subTpl");return e.beforeSubTpl&&(t=e.build("beforeSubTpl")+t),e.afterSubTpl&&(t+=e.build("afterSubTpl")),t},_getParent:function(e){var t=e||this,n=Object.getPrototypeOf(t);if(t._classname!==n._classname)if(t.subTpl!==n.subTpl||t.tpl!==n.tpl)return n;return this._getParent(n)},getParentTpl:function(){var t=this;return e.template(t._getParent().tpl)(t)},getParentSubTpl:function(){var t=this;return e.template(t._getParent().subTpl)(t)},cleanString:function(e){return e.replace(/\'/g,"")},parseBind:function(e){return"'"+e+"'"},textBind:function(e){return"Firebrick.text('"+e+"')"}})}),define("Firebrick.ui/common/mixins/Items",[],function(){"use strict";return Firebrick.define("Firebrick.ui.common.mixins.Items",{defaults:1,itemsAlign:null,items:null,getItems:function(){var e=this,t=e._getItems(e.items);return e.items=t.items,t.html},getItemsProp:function(e){var t=this,n,r="";return e?(n=t._getItems(t[e]),t[e]=n.items,r=n.html):console.error("invalid function call getItemsProp():",e),r},_getItems:function(e){return Firebrick.ui._populate(e,this)}})}),define("Firebrick.ui/button/Base",["../common/Base","../common/mixins/Items"],function(){"use strict";return Firebrick.define("Firebrick.ui.button.Base",{extend:"Firebrick.ui.common.Base",mixins:"Firebrick.ui.common.mixins.Items"})}),define("text!Firebrick.ui/button/Button.html",[],function(){return'{{?it.items}}\r\n	<div data-bind="{{=it.dataBind(\'dropdownContainerBindings\')}}">\r\n{{?}}\r\n		<button id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n			\r\n			{{=it.b(it.beforeText)}}\r\n			<span data-bind="{{=it.dataBind(\'buttonTextBindings\')}}"></span>\r\n			{{=it.b(it.afterText)}}\r\n			\r\n			{{?it.badge}}\r\n				<span data-bind="{{=it.dataBind(\'badgeBindings\')}}"></span>\r\n			{{?}}\r\n			\r\n			{{?it.items && !it.splitButton}}\r\n				<span data-bind="{{=it.dataBind(\'caretBindings\')}}"></span>\r\n			{{?}}\r\n		</button>\r\n		 \r\n		 {{?it.items && it.splitButton}}\r\n\r\n			<button data-bind="{{=it.dataBind(\'splitButtonBindings\')}}">\r\n			    <span data-bind="{{=it.dataBind(\'caretBindings\')}}"></span>\r\n			    <span data-bind="{{=it.dataBind(\'splitButtonSrOnlyBinding\')}}"></span>\r\n			  </button>\r\n		 \r\n		 {{?}}\r\n		 \r\n{{?it.items}}\r\n		{{=it.getDropdown()}}\r\n	</div>\r\n{{?}}'}),define("Firebrick.ui/common/mixins/Badges",[],function(){"use strict";return Firebrick.define("Firebrick.ui.common.mixins.Badges",{badge:!1,badgeBindings:function(){var e=this,t={attr:{},css:{badge:!0},text:e.textBind(e.badge)};return t}})}),define("text!Firebrick.ui/menu/Menu.html",[],function(){return'<ul id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{=it.getItems()}}\r\n</ul>'}),define("text!Firebrick.ui/menu/Item.html",[],function(){return'<li id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{?it.items}}\r\n		{{=it.getItems()}}\r\n	{{?? true}}\r\n		<a data-bind="{{=it.dataBind(\'linkBindings\')}}"></a>\r\n	{{?}}\r\n</li>'}),define("Firebrick.ui/menu/Item",["text!./Item.html","../common/Base"],function(e){"use strict";return Firebrick.define("Firebrick.ui.menu.Item",{extend:"Firebrick.ui.common.Base",mixins:"Firebrick.ui.common.mixins.Items",sName:"menu.item",text:null,value:null,href:null,divider:!1,tpl:e,defaults:{sName:"menu.item"},bindings:function(){var e=this,t=e.callParent(arguments);return e.divider&&(t.css.divider=!0),t.attr.role="'presentation'",t},linkBindings:function(){var e=this,t={attr:{}};return e.href&&(t.href=e.href),e.text&&(t.text=e.textBind(e.text)),t.attr.role="'menuitem'",t.attr.tabindex="-1",t}})}),define("Firebrick.ui/menu/Menu",["text!./Menu.html","../common/Base","../common/mixins/Items","./Item"],function(e){"use strict";return Firebrick.define("Firebrick.ui.menu.Menu",{extend:"Firebrick.ui.common.Base",mixins:"Firebrick.ui.common.mixins.Items",sName:"menu.menu",tpl:e,defaults:{sName:"menu.item"},ariaLabelledBy:"",init:function(){var e=this;return e._prepItems(),e.callParent(arguments)},_prepItems:function(){var e=this,t,n=e.items;for(var r=0,i=n.length;r<i;r++)t=n[r],t==="|"?t={divider:!0}:t.sName&&t.sName!=="menu.item"&&(t={items:[n[r]]}),n[r]=t},bindings:function(){var e=this,t=e.callParent(arguments);return t.css={"'dropdown-menu'":!0},t.attr||(t.attr={}),t.attr.role="'menu'",t.attr["'aria-labelledby'"]=e.parseBind(e.ariaLabelledBy),t}})}),define("Firebrick.ui/button/Button",["text!./Button.html","./Base","../common/mixins/Badges","../menu/Menu"],function(e){"use strict";return Firebrick.define("Firebrick.ui.button.Button",{extend:"Firebrick.ui.button.Base",mixins:["Firebrick.ui.common.mixins.Badges"],sName:"button.button",tpl:e,text:"",type:"button",dropdownContainerClass:"dropdown",navbarItem:!1,splitButton:!1,btnSize:!1,disabled:!1,btnStyle:"default",beforeText:"",glyIcon:null,afterText:"",loadingText:!1,dropdownConfig:null,srOnlyText:"Toggle Dropdown",closeModal:!1,_dropdownParent:null,getDropdownParentEl:function(){var e=this,t;return e._dropdownParent||(t=e.getElement(),e._dropdownParent=t.parent()),e._dropdownParent},_dropdown:null,getDropdownEl:function(){var e=this,t;return e._dropdown||(t=e.getElement(),e._dropdown=t.siblings("ul.dropdown-menu")),e._dropdown},init:function(){var e=this;return e._initDropdown(),e.callParent(arguments)},_initDropdown:function(){var e=this;e.items&&e.items.length&&e.on("rendered",function(){var t=e.getDropdownParentEl();t.length&&t.on("shown.bs.dropdown",function(){e.positionDropdown()})})},positionDropdown:function(){var e=this,t=e.getElement(),n=e.getDropdownEl(),r=$(document).width(),i=t.offset(),s=i.left,o=n.outerWidth(),u=t.outerWidth(),a=o-u;o>u&&i.left+o>r&&(s=i.left-a),n.css({top:i.top+t.outerHeight(),left:s})},bindings:function(){var e=this,t=e.callParent(arguments);return t.attr.type=e.parseBind(e.type),t.css.btn=!0,t.attr.autocomplete="'off'",e.btnStyle&&(t.css[e.parseBind("btn-"+e.btnStyle)]=!0),e.btnSize&&(t.css[e.parseBind("btn-"+e.btnSize)]=!0),e.items&&!e.splitButton&&(t.css["'dropdown-toggle'"]=!0,t.attr["'data-toggle'"]="'dropdown'"),e.navbarItem&&(t.css["'navbar-btn'"]=!0),e.loadingText&&(t.attr["'data-loading-text'"]=e.textBind(e.loadingText)),e.closeModal&&(t.attr["'data-dismiss'"]="'modal'"),e.disabled&&(t.attr.disabled="'disabled'"),t},buttonTextBindings:function(){var e=this,t={css:{},text:e.textBind(e.text)};return e.glyIcon&&(t.css.glyphicon=!0,t.css[e.parseBind("glyphicon-"+e.glyIcon)]=!0),t},caretBindings:function(){return{css:{caret:!0}}},dropdownContainerBindings:function(){var e=this,t={css:{}};return e.splitButton?t.css["'btn-group'"]=!0:e.dropdownContainerClass&&!e.splitButton&&(t.css[e.parseBind(e.dropdownContainerClass)]=!0),t.css["'fb-ui-dropdown'"]=!0,t},getDropdown:function(){var e=this,t={sName:"menu.menu",items:e.items};return t=Firebrick.utils.copyover(t,e.dropdownConfig||{}),t=e._getItems(t),e.items=t.items,t.html},splitButtonBindings:function(){var e=this,t={css:{},attr:{}};return t.attr.type=e.parseBind(e.type),t.css.btn=!0,e.btnStyle&&(t.css[e.parseBind("btn-"+e.btnStyle)]=!0),e.btnSize&&(t.css[e.parseBind("btn-"+e.btnSize)]=!0),e.items&&(t.css["'dropdown-toggle'"]=!0,t.attr["'data-toggle'"]="'dropdown'"),t.attr["'aria-expanded'"]=!1,t},splitButtonSrOnlyBinding:function(){var e=this,t={css:{}};return t.css["'sr-only'"]=!0,t.text=e.textBind(e.srOnlyText),t},setEnabled:function(e){var t=this,n=t.getElement();e?(n.removeAttr("disabled"),t.fireEvent("enabled")):(n.attr("disabled","disabled"),t.fireEvent("disabled"))}})}),define("text!Firebrick.ui/button/ButtonGroup.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n\r\n	{{=it.getItems()}}\r\n\r\n</div>'}),define("Firebrick.ui/button/ButtonGroup",["text!./ButtonGroup.html","./Base","./Button"],function(e){"use strict";return Firebrick.define("Firebrick.ui.button.ButtonGroup",{extend:"Firebrick.ui.button.Base",sName:"button.buttongroup",tpl:e,defaults:{sName:"button.button",dropdownContainerClass:"btn-group"},vertical:!0,role:"group",groupSize:"md",arialLabel:"",bindings:function(){var e=this,t=e.callParent(arguments);return e.vertical?t.css["'btn-group-vertical'"]=!0:t.css["'btn-group'"]=!0,t.css[e.parseBind("btn-group-"+e.groupSize)]=!0,t.attr.role=e.parseBind(e.role),t.attr["'aria-label'"]=e.textBind(e.arialLabel),t}})}),define("Firebrick.ui/button/Icon",["./Button"],function(){"use strict";return Firebrick.define("Firebrick.ui.button.Icon",{extend:"Firebrick.ui.button.Button",sName:"button.icon",btnSize:"xs",text:!1,glyIcon:"remove",btnStyle:"danger",afterText:function(){var e=this;return e.text?e.text:""},buttonTextBindings:function(){var e=this,t=e.callParent(arguments);return t.hasOwnProperty("text")&&delete t.text,t.css||(t.css={}),t.css[e.glyphiconClass]=!0,t.css[e.parseBind("glyphicon-"+e.glyIcon)]=!0,t}})}),define("text!Firebrick.ui/button/ToggleButton.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind(\'btnGroupBindings\')}}">\r\n	{{?it.showLabel}}\r\n		<label data-bind="{{=it.dataBind(\'toggleLabelBindings\')}}">\r\n	{{?}}\r\n			<input type="radio" data-bind="{{=it.dataBind(\'toggleInputBindings\')}}"><span data-bind="{{=it.dataBind(\'toggleLabelTextBindings\')}}"></span>\r\n	{{?it.showLabel}}\r\n		</label>\r\n	{{?}}\r\n</div>'}),define("text!Firebrick.ui/fields/Base.html",[],function(){return'<div data-cmp-id="{{=it.getId()}}" class="{{=it.formGroupClass}}" data-bind="{{=it.dataBind(\'containerBindings\')}}">\r\n	{{?it.label !== false }}\r\n		<label for="{{=it.getId()}}" data-bind="{{=it.dataBind(\'labelBindings\')}}"></label> \r\n	{{?}}\r\n	<div data-bind="{{=it.dataBind(\'inputContainerBindings\')}}">\r\n		<div data-bind="{{=it.dataBind(\'fieldBindings\')}}">\r\n				\r\n				{{?it.inputAddon}}\r\n					{{?it.inputAddonPosition === "left"}}\r\n						<!-- ko {{=it.dataBind(\'inputAddonTemplateBindings\')}} --><!-- /ko -->\r\n					{{?}}\r\n				{{?}}\r\n				\r\n				{{=it.getSubTpl()}}\r\n				\r\n				{{?it.showStateIcon}}\r\n					<span class="{{=it.glyphiconClass}} {{=it.formControlFeedbackClass}}" data-bind="{{=it.dataBind(\'feedbackBindings\')}}"></span>\r\n				{{?}}\r\n				{{?it.helpText}}\r\n					<span class="{{=it.helpBlockClass}}" data-bind="{{=it.dataBind(\'helpBlockBindings\')}}"></span>\r\n			 	{{?}}\r\n			 	\r\n			 	{{?it.inputAddon}}\r\n				 	{{?it.inputAddonPosition === "right"}}\r\n						<!-- ko {{=it.dataBind(\'inputAddonTemplateBindings\')}} --><!-- /ko -->\r\n					{{?}}\r\n				{{?}}\r\n			 	\r\n		</div>\r\n		\r\n		{{?it.inputAddon}}\r\n		 	<script type="text/html" id="{{=it.getAddonId()}}">\r\n				<span data-bind="{{=it.dataBind(\'inputAddonBindings\')}}">\r\n					{{?typeof it.inputAddon === "object"}}\r\n						{{=it.getItemsProp(\'inputAddon\')}}\r\n					{{?? true}}\r\n						<span data-bind="{{=it.dataBind(\'inputAddonSpanBindings\')}}"></span>\r\n					{{?}}\r\n				</span>\r\n			 </script>\r\n	 	{{?}}\r\n		\r\n	</div>\r\n</div>'}),define("text!Firebrick.ui/fields/Input.html",[],function(){return'{{?it.inplaceEdit}}\r\n	<a id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}"></a>\r\n{{?? true }}\r\n	<input id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n{{?}}\r\n'}),define("Firebrick.ui/fields/Base",["../common/Base"],function(){"use strict";return Firebrick.define("Firebrick.ui.fields.Base",{extend:"Firebrick.ui.common.Base",sName:"fields.base",fireEvent:function(){var e=this,t=e.getElement(),n=Firebrick.utils.argsToArray(arguments),r=n[0];return t&&(n.splice(0,1),t.trigger("fb.ui."+r,n)),e.callParent(arguments)}})}),define("text!Firebrick.ui/containers/GridRow.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n\r\n	{{~ it.items :value:index}}\r\n		{{=it.getGridItem(index, value)}}\r\n	{{~}}\r\n\r\n</div>'}),define("Firebrick.ui/containers/Base",["../common/Base","../common/mixins/Items"],function(){"use strict";return Firebrick.define("Firebrick.ui.containers.Base",{extend:"Firebrick.ui.common.Base",mixins:"Firebrick.ui.common.mixins.Items",bindings:function(){var e=this,t=e.callParent(arguments);return e.itemsAlign&&(t.css[e.parseBind("fb-ui-items-align-"+e.itemsAlign)]=!0),t}})}),define("text!Firebrick.ui/containers/GridColumn.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{=it.getItems()}}\r\n</div>'}),define("Firebrick.ui/common/mixins/Column",[],function(){"use strict";return Firebrick.define("Firebrick.ui.common.mixins.Column",{deviceSize:"md",columnWidth:"auto",columnOffset:null,columnOrder:null,_getColumnWidth:function(){var e=this,t=e.columnWidth;return t==="auto"?Math.floor(12/e._parent.items.length):t},calColumn:function(e){var t=this;return e.css.col=!0,e.css[t.parseBind("col-"+t.deviceSize+"-"+t._getColumnWidth())]=!0,t.columnOffset&&(e.css[t.parseBind("col-"+t.deviceSize+"-offset-"+t.columnOffset)]=!0),t.columnOrder&&(e.css[t.parseBind("col-"+t.deviceSize+"-"+t.columnOrder)]=!0),e}})}),define("Firebrick.ui/containers/GridColumn",["text!./GridColumn.html","./Base","../common/mixins/Column"],function(e){"use strict";return Firebrick.define("Firebrick.ui.containers.GridColumn",{extend:"Firebrick.ui.containers.Base",mixins:"Firebrick.ui.common.mixins.Column",sName:"containers.gridcolumn",tpl:e,bindings:function(){var e=this;return e.calColumn(e.callParent(arguments))}})}),define("Firebrick.ui/containers/GridRow",["text!./GridRow.html","./Base","./GridColumn"],function(e){"use strict";return Firebrick.define("Firebrick.ui.containers.GridRow",{extend:"Firebrick.ui.containers.Base",sName:"containers.gridrow",tpl:e,rowClass:!0,defaults:{sName:"containers.gridcolumn"},bindings:function(){var e=this,t=e.callParent(arguments);return t.css.row=e.rowClass,t},getBasicBindings:function(){var e=this,t={css:{}};return t.css[e.parseBind("col-md-"+Math.floor(12/e.items.length))]=!0,t},getGridItem:function(e,t){var n=this,r=n._getItems(t);return r?(n.items[e]=r.items[0],r.html):""}})}),define("text!Firebrick.ui/containers/Box.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{? it.html }}\r\n		{{=it.html}}\r\n	{{?? true}}\r\n		{{=it.getItems()}}\r\n	{{?}}\r\n</div>'}),define("Firebrick.ui/containers/Box",["text!./Box.html","./Base"],function(e){"use strict";return Firebrick.define("Firebrick.ui.containers.Box",{extend:"Firebrick.ui.containers.Base",tpl:e,sName:"containers.box",html:!1})}),define("Firebrick.ui/fields/plugins/InplaceEdit",["jquery","knockout","Firebrick.ui/containers/GridRow","Firebrick.ui/containers/Box","Firebrick.ui/button/Icon"],function(e,t){"use strict";return Firebrick.define("Firebrick.ui.fields.plugins.InplaceEdit",{fieldItem:null,items:null,showInplaceTitle:!0,title:null,container:"body",width:"250px",placement:"auto bottom",actionButtonsFooter:!1,_getPopoverEl:function(){var e=this;return e.fieldItem.getElement().data("bs.popover").$tip},init:function(){var e=this,t=e.fieldItem.getElement();t?(t.on("click",function(){return e.onEditClick.apply(e,arguments)}),e.fieldItem.on("changed",function(){t.addClass("fb-ui-inplaceedit-changed")})):console.info("no el",e)},buildItems:function(){var e=this,t=[],n=e.fieldItem.type,r,i="Firebrick.getById('"+e.fieldItem.getId()+"').getValue()",s;return e.items?t=e.items:(r={css:"fb-ui-inplaceedit-field",inputSize:"sm",label:!1,inputWidth:12},n==="text"?s={sName:"fields.input",value:i}:n==="select"&&(s={sName:"fields.selectbox",options:e.fieldItem.options},e.fieldItem.multiSelect?s.selectedOptions=i:s.value=i),t.push(Firebrick.utils.overwrite(r,s))),t},showPopover:function(){var e=this;e._initBSPopover(),e._showBSPopover(),e._initPopoverContent()},_initPopoverContent:function(){var n=this;Firebrick.create("Firebrick.ui.containers.GridRow",{target:e(".popover-content",n._getPopoverEl()),store:t.dataFor(n.fieldItem.getElement()[0]),items:[{columnWidth:n.actionButtonsFooter?12:7,items:n.buildItems()},{columnWidth:n.actionButtonsFooter?12:5,items:n.actionButtons()}]})},_initBSPopover:function(){var e=this,t=Firebrick.text(e.showInplaceTitle?e.fieldItem.popoverTitle||e.fieldItem.label||"":"");e.fieldItem.getElement().popover({html:!0,title:t||" ",container:e.container,placement:e.placement,trigger:"manual"})},_showBSPopover:function(){var e=this,t,n=e.fieldItem.getElement();n.popover("toggle"),t=e._getPopoverEl(),e.width&&(t.css("width",e.width),t.css("max-width",e.width)),e._initDismissEvent()},_initDismissEvent:function(){var t=this;Firebrick.delay(function(){var n=function(r){var i=e(r.target);i.closest(".popover").length||(t.fieldItem.getElement().popover("destroy"),e("html").off("click",n))};e("html").on("click",n),t.fieldItem.getElement().on("hide.bs.popover hidden.bs.popover",function(){e("html").off("click",n)})},1)},okAction:function(){var e=this;e.setValue(e.getValue()),e.fieldItem.getElement().popover("toggle")},cancelAction:function(){var e=this;e.fieldItem.getElement().popover("destroy")},actionButtons:function(){var e=this;return[{sName:"containers.box",css:e.actionButtonsFooter?"pull-right":"",items:[{sName:"button.button",glyIcon:"ok",btnStyle:"primary",btnSize:"sm",handler:function(){return e.okAction.apply(e,arguments)}},{sName:"button.button",glyIcon:"remove",btnStyle:"default",btnSize:"sm",handler:function(){return e.cancelAction.apply(e,arguments)}}]}]},onEditClick:function(){var e=this;e.showPopover()},getValue:function(){var t=this,n=t._getPopoverEl(),r=e(".fb-ui-inplaceedit-field",n);return r.val()},setValue:function(e){var t=this;t.fieldItem.setValue(e)}})}),define("Firebrick.ui/fields/Input",["knockout","text!./Base.html","text!./Input.html","./Base","../common/mixins/Items","./plugins/InplaceEdit"],function(e,t,n){"use strict";return Firebrick.define("Firebrick.ui.fields.Input",{extend:"Firebrick.ui.fields.Base",mixins:["Firebrick.ui.common.mixins.Items"],sName:"fields.input",subTpl:n,type:"text",label:"",containerCSS:"",value:null,inplaceEditEmptyText:"empty",tpl:t,formGroupClass:"form-group",formControlClass:"form-control",labelWidth:3,inputWidth:9,srOnly:!1,readOnly:!1,disabled:!1,columnSize:"md",inputSize:"md",controlLabel:!0,helpText:!1,helpBlockClass:"help-block",placeholder:"",showStateIcon:!1,formControlFeedbackClass:"form-control-feedback",inputAddon:!1,inputAddonClass:"input-group-addon",inputAddonSpanClass:"",horizontal:!0,feedbackSuccess:!1,feedbackWarning:!1,feedbackError:!1,multiplesInline:!1,inplaceEdit:!1,showInplaceTitle:!0,required:!1,name:"",inputAddonPosition:"left",_inputAddonTplId:null,iconClass:!1,_lastValue:null,navbarItem:!1,init:function(){var e=this;return e.on("rendered",function(){var t;e.inplaceEdit&&(t={fieldItem:e,showInplaceTitle:!0},$.isPlainObject(e.inplaceEdit)&&(t=Firebrick.utils.overwrite(t,e.inplaceEdit)),Firebrick.create("Firebrick.ui.fields.plugins.InplaceEdit",t)),e.required&&e.onChange()}),e.callParent(arguments)},onChange:function(){var e=this,t=e.getElement(),n;e.required&&t&&t.length&&t.change(function(){n=t.closest(".form-group"),n.length&&(t.is(":invalid")?e.setStatus("error",n):e.setStatus("success",n))})},setStatus:function(e,t){var n=this,r=t||n.getElement();return r&&r.length&&e&&(r.attr("class",function(e,t){return t=t.replace(/(^|\s)has-\S+/g,""),t+=" has-feedback",t}),r.addClass("has-"+e)),n},containerBindings:function(){var e=this,t={css:{"'has-success'":e.feedbackSuccess,"'has-warning'":e.feedbackWarning,"'has-error'":e.feedbackError,"'has-feedback'":e.feedbackSuccess||e.feedbackWarning||e.feedbackError,"'sr-only'":e.srOnly}};return e.containerCSS&&(t.css[e.parseBind(e.containerCSS)]=!0),e.align&&(t.css[e.parseBind("pull-"+e.align)]=!0),e.inputSize&&(t.css[e.parseBind("form-group-"+e.inputSize)]=e.inputSize?!0:!1),e.navbarItem&&(t.css["'fb-ui-navbar-field'"]=!0),t},helpBlockBindings:function(){var e=this;return{text:e.textBind(e.helpText)}},feedbackBindings:function(){var e=this,t={css:{}},n="'glyphicon-";return e.containerBindings&&e.containerBindings.css&&$.each(e.containerBindings.css,function(e,r){if(r)switch(e){case"'has-success'":t.css[n+"ok'"]=r;break;case"'has-warning'":t.css[n+"warning'"]=r;break;case"'has-error'":t.css[n+"remove'"]=r}}),t},bindings:function(){var e=this,t=e.parseBind(e.type),n=e.callParent(arguments);return n.attr.disabled=e.disabled,n.attr.readonly=e.readOnly,e.inplaceEdit||(n.attr.type=t),n.attr.name=e.name?e.parseBind(e.name):t,n.value=e.value,e.inplaceEdit?(n.text="Firebrick.getById('"+e.getId()+"')._getInplaceEditText( $data )",n.css["'fb-ui-inplaceedit'"]=!0):(e.formControlClass&&(n.css[e.parseBind(e.formControlClass)]=!0),n.attr.placeholder=e.textBind(e.placeholder)),e.required&&(n.attr.required=!0),e.inputSize&&(n.css[e.parseBind("input-"+e.inputSize)]=!0),n},inputAddonBindings:function(){var e=this,t={css:{}};return e.inputAddon&&($.isPlainObject(e.inputAddon)&&e.inputAddon.sName==="button.button"&&(e.inputAddonClass=e.inputAddonClass.replace("input-group-addon",""),e.inputAddonClass+=" input-group-btn"),t.css[e.parseBind(e.inputAddonClass)]=!0),t},inputAddonSpanBindings:function(){var e=this,t={css:{}};return e.inputAddon&&typeof e.inputAddon=="string"&&(t.text=e.textBind(e.inputAddon)),t.css[e.parseBind(e.glyphiconClass)]=!0,e.iconClass&&(t.css[e.parseBind(e.iconClass)]=!0),t},inputAddonTemplateBindings:function(){var e=this,t={template:e.parseBind(e.getAddonId()),data:"$data"};return t},getAddonId:function(){var e=this;return e._inputAddonTplId||(e._inputAddonTplId="fb-inputaddon-"+Firebrick.utils.uniqId()),e._inputAddonTplId},labelBindings:function(){var e=this,t={text:e.textBind(e.label),css:{"'control-label'":e.controlLabel}};return e.horizontal&&(t.css[e.parseBind("col-"+e.columnSize+"-"+e.labelWidth)]=e.horizontal),t},inputContainerBindings:function(){var e=this,t={css:{}};return e.horizontal&&(t.css[e.parseBind("col-"+e.columnSize+"-"+e.inputWidth)]=e.horizontal),t},fieldBindings:function(){var e=this,t={css:{"'input-group'":e.inputAddon?!0:!1}};return e.align&&(t.css[e.parseBind("pull-"+e.align)]=!0),t},getValue:function(){var e=this;return e.getElement().val()},setValue:function(e){var t=this,n=t.getValue(),r;return t._lastValue=n,t._setValue(e),r=t.getValue(),t._checkChange(r,n),t},_checkChange:function(e,t,n){var r=this;return r._hasChange(e,t)?(n||r.fireEvent("changed",e,t),!0):!1},_hasChange:function(e,t){return e!==t},_setValue:function(e){var t=this,n=t.getElement();return n.val(e),t.inplaceEdit&&t._setValueInplaceEdit(e),t},_setValueInplaceEdit:function(){var e=this,t=e.getElement();return t.text(e._getInplaceEditText(Firebrick.utils.dataFor(t[0]))),t.trigger("change"),e},_getInplaceEditText:function(t){var n=this,r=n.getElement(),i=r?n.getValue():n.value,s="";return i?t.hasOwnProperty(i)?s=e.unwrap(t[i]):s=i:s=Firebrick.text(n.inplaceEditEmptyText),s}})}),define("Firebrick.ui/common/MultiplesBase",["knockout-mapping","../fields/Input"],function(e){"use strict";return Firebrick.define("Firebrick.ui.common.MultiplesBase",{extend:"Firebrick.ui.fields.Input",fieldBindings:function(){var e=this,t=e.callParent(arguments);return e.inplaceEdit||(t.withProperties={itemId:"'fb-ui-id-' + Firebrick.utils.uniqId()"},e.multiplesInline&&(t.css||(t.css={}),t.css[e.parseBind(e.cleanString(e.type)+"-inline")]=e.multiplesInline)),t},_valueChecker:function(t,n){var r=this;e.isMapped(n)&&(n=e.toJS(n));if($.isPlainObject(n)){if(n.active)return $.isFunction(n.active)?n.active():n.active;if(n.checked)return $.isFunction(n.checked)?n.checked():n.checked;n.value&&(n=n.value)}return t?($.isFunction(t)&&(t=t()),t===n):r.defaultActive}})}),define("Firebrick.ui/button/ToggleButton",["text!./ToggleButton.html","knockout","jquery","../common/MultiplesBase"],function(e,t,n){"use strict";return t.bindingHandlers.toggleRenderer||(t.bindingHandlers.toggleRenderer={init:function(e,t,r,i){var s=Firebrick.ui.getCmp(t()),o="btn-"+s.btnStyle,u=n(e),a=r().withProperties.inputItemId;a=Firebrick.ui.utils.getValue(a),u.length&&(i&&(i.btnStyle&&u.attr("class",function(e,t){return t.replace(o,"btn-"+Firebrick.ui.utils.getValue(i.btnStyle))}),i.css&&u.addClass(Firebrick.ui.utils.getValue(i.css))),u.attr("for",a),n("> input",u).attr("id",a))}}),Firebrick.define("Firebrick.ui.button.ToggleButton",{extend:"Firebrick.ui.common.MultiplesBase",sName:"button.togglebutton",subTpl:e,btnGroupClass:!0,btnClass:!0,defaultActive:!1,dataToggle:"buttons",btnStyle:"default",btnSize:"md",options:"''",showLabel:!0,optionsRenderer:"optionsRenderer",btnGroupBindings:function(){var e=this;return{css:{"'btn-group'":e.btnGroupClass},attr:{"'data-toggle'":e.parseBind(e.dataToggle)},foreach:Firebrick.ui.helper.optionString(e)}},toggleInputBindings:function(){var e=this;return{attr:{name:e.parseBind(e.name)},value:"$data.value || $data.text ? $data.value || $data.text : $data"}},toggleLabelBindings:function(){var e=this,t={attr:{id:"$data.labelId || 'fb-ui-id-' + Firebrick.utils.uniqId()"},withProperties:{inputItemId:"$data.id || 'fb-ui-id-' + Firebrick.utils.uniqId()"},css:{active:"Firebrick.ui.getCmp('"+e.getId()+"')._valueChecker("+e.value+", $data)"},toggleRenderer:e.parseBind(e.getId())};return e.btnClass&&(t.css.btn=!0),e.btnStyle&&(t.css[e.parseBind("btn-"+e.btnStyle)]=!0),e.btnSize&&(t.css[e.parseBind("btn-"+e.btnSize)]=!0),t},toggleLabelTextBindings:function(){return{text:"$data.text ? $data.text : $data"}}})}),define("text!Firebrick.ui/common/mixins/tpl/Label.html",[],function(){return"{{?it.labelText}}\r\n<span data-bind=\"{{=it.dataBind('labelBindings')}}\"></span>\r\n{{?}}"}),define("Firebrick.ui/common/mixins/Label",["text!./tpl/Label.html"],function(e){"use strict";return Firebrick.define("Firebrick.ui.common.mixins.Label",{labelTpl:e,labelCSS:"",labelText:"",getLabelTpl:function(){var e=this;return e.template("labelTpl"),e.build("labelTpl")},labelStyle:"default",labelBindings:function(){var e=this,t={text:e.textBind(e.labelText),css:{label:!0}};return e.labelStyle&&(t.css[e.parseBind("label-"+e.labelStyle)]=!0),e.labelCSS&&(t.css[e.parseBind(e.labelCSS)]=!0),t}})}),define("text!Firebrick.ui/nav/Navbar.html",[],function(){return'<nav id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	<div data-bind="{{=it.dataBind(\'navbarWrapperBindings\')}}">\r\n		{{?it.showNavbarHeader}}\r\n		<div data-bind="{{=it.dataBind(\'navbarHeaderBindings\')}}">\r\n			{{?it.toggleButton}}\r\n				<button data-bind="{{=it.dataBind(\'toggleButtonBindings\')}}">\r\n		         	<span class="sr-only" data-bind="{{=it.dataBind(\'toggleTextBindings\')}}"></span>\r\n		         	<span class="icon-bar"></span>\r\n		         	<span class="icon-bar"></span>\r\n		         	<span class="icon-bar"></span>\r\n	       		</button>\r\n       		{{?}}\r\n       		{{?it.showBranding}}\r\n      			<a data-bind="{{=it.dataBind(\'brandBindings\')}}">{{=it.brandTpl}}</a>\r\n      		{{?}}\r\n		</div>\r\n		{{?}}\r\n		<div data-bind="{{=it.dataBind(\'navbarContainerBindings\')}}">\r\n     		{{=it.getItems()}}\r\n     	</div>\r\n	</div>\r\n</nav>'}),define("Firebrick.ui/nav/Base",["../common/Base","../common/mixins/Items"],function(){"use strict";return Firebrick.define("Firebrick.ui.nav.Base",{extend:"Firebrick.ui.common.Base",mixins:"Firebrick.ui.common.mixins.Items"})}),define("text!Firebrick.ui/display/List.html",[],function(){return"<!-- ko {{=it.dataBind('listTemplateBindings')}} --><!-- /ko -->\r\n\r\n<script type=\"text/html\" id=\"{{=it._getTplId()}}\">\r\n	<!-- ko {{=it.dataBind('virtualContainerBindings')}} -->\r\n		<{{=it.listType}} data-bind=\"{{=it.dataBind()}}\">\r\n			<li data-bind=\"{{=it.dataBind('listItemBindings')}}\">\r\n				{{?it._preNode}}\r\n				<span data-bind=\"{{=it.dataBind('listItemNodeBindings')}}\"></span>\r\n				{{?}}\r\n				{{=it.b(it.preItemTpl)}}\r\n					{{?it.linkedList}}\r\n						<a data-bind=\"{{=it.dataBind('listLinkBindings')}}\">\r\n					{{?}}\r\n							<span data-bind=\"{{=it.dataBind('listItemTextBindings')}}\"></span>\r\n	\r\n							{{?it.badge}}\r\n								<span data-bind=\"{{=it.dataBind('badgeBindings')}}\"></span>\r\n							{{?}}\r\n\r\n					{{?it.linkedList}}\r\n						</a>\r\n					{{?}}\r\n				{{=it.b(it.postItemTpl)}}\r\n				<!-- ko {{=it.dataBind('childrenBindings')}} --><!-- /ko -->\r\n			</li>\r\n		</{{=it.listType}}>\r\n	<!-- /ko -->\r\n</script>\r\n"}),define("Firebrick.ui/display/List",["text!./List.html","knockout","jquery","../common/Base","../common/mixins/Items","../common/mixins/Badges"],function(e,t,n){"use strict";return t.bindingHandlers.listRenderer||(t.virtualElements.allowedBindings.listRenderer=!0,t.bindingHandlers.listRenderer={init:function(e,r){var i=t.virtualElements.childNodes(e),s;for(var o=0,u=i.length;o<u;o++)s=i[o],s instanceof window.HTMLUListElement&&n(s).attr("id",r())}}),t.bindingHandlers.listItemRenderer||(t.virtualElements.allowedBindings.listItemRenderer=!0,t.bindingHandlers.listItemRenderer={init:function(e,t,r,i){var s=n(e);s.length&&i&&i.css&&s.addClass(Firebrick.ui.utils.getValue(i.css))}}),Firebrick.define("Firebrick.ui.display.List",{extend:"Firebrick.ui.common.Base",mixins:["Firebrick.ui.common.mixins.Items","Firebrick.ui.common.mixins.Badges"],sName:"display.list",tpl:e,listType:"ul",listGroup:!1,listItemGroupClass:!0,data:null,unstyled:!1,preItemTpl:"",postItemTpl:"",linkedList:!1,virtualContainerBindings:function(){return{"if":"$data && $data.length"}},ignoreRouter:!1,collapsedCSS:"fb-ui-listitem-collapsed",preNode:!0,nodeCSSRenderer:function(e){var t={},n=e.children;return t["fb-ui-node-action"]=!0,n?(t.glyphicon=!0,n.expandable!==!1&&(t["fb-ui-list-expandable-node"]=!0)):t["fb-ui-hidden"]=!0,t},init:function(){var e=this;return e.on("rendered",function(){e._initUIEvents()}),e.callParent(arguments)},_initUIEvents:function(){var e=this,t=e.getElement(),r=n(".fb-ui-list-expandable-node",t),i=function(){return e._nodeClick(this,arguments)};r.length&&(r.on("click",i),e.on("destroy",function(){r.off("click",i)}))},_nodeClick:function(e,t){var r=this,i=n(e),s=i.closest("li.fb-ui-listitem-parent"),o=Firebrick.utils.argsToArray(t);return o.unshift("nodeClicked"),o.push(s),r.toggleCollapse(s),r.fireEvent("nodeClicked",o)},toggleCollapse:function(e){var t=this,r=n("> ul",e);r.length&&(r.is(":visible")?t.collapseNode(e):t.expandNode(e))},collapseNode:function(e){var t=this,r=n("> ul",e);r.length&&(r.hide(),t.fireEvent("nodeCollapsed",e,r),e.addClass(t.collapsedCSS))},expandNode:function(e){var t=this,r=n("> ul",e);r.length&&(r.show(),t.fireEvent("nodeExpanded",e,r),e.removeClass(t.collapsedCSS))},bindings:function(){var e=this,t=e.callParent(arguments);return e.listGroup&&(t.css["'list-group'"]=e.listGroup),e.unstyled&&(t.css["'fb-ui-list-unstyled'"]=e.unstyled),e.items&&(t.foreach="$data"),t.visible="$parent.expanded === false ? false : true",t},listItemBindings:function(){var e=this,t={css:{"'fb-ui-listitem-parent'":"$data.children ? true : false","'fb-ui-listitem-haschildren'":"$data.children ? true : false"},attr:{}};return e.listGroup&&e.listItemGroupClass&&(t.css["'list-group-item'"]=e.listItemGroupClass),t.css[e.parseBind(e.collapsedCSS)]="$data.children && $data.expandable !== false && $data.expanded === false ? true : false",t.css.divider="$data === '|' || $data.divider ? true : false",t.attr.id="$data.id || 'fb-ui-listitem-' + Firebrick.utils.uniqId()",t.listItemRenderer=!0,t},listItemTextBindings:function(){return{value:"$data.hasOwnProperty('value') ? $data.value : $data",htmlWithBinding:"$data.renderer ? $data.renderer($data, $context) : ($data.text ? $data.text : $data)",css:{"'fb-ui-listitem-text'":!0}}},listTemplateBindings:function(){var e=this;return{template:{name:e.parseBind(e._getTplId()),data:n.isArray(e.items)?"Firebrick.ui.getCmp('"+e.getId()+"').items":e.items},listRenderer:e.parseBind(e.getId())}},_getTplId:function(){return"fb-ui-tpl-"+this.getId()},childrenBindings:function(){var e=this;return{template:{name:e.parseBind(e._getTplId()),data:"$data.children"}}},listLinkBindings:function(){var e=this,t={attr:{href:"Firebrick.ui.helper.linkBuilder( $data )","'data-value'":"$data.hasOwnProperty('value') ? $data.value : $data"},value:"$data.hasOwnProperty('value') ? $data.value : $data"};return t.attr["'data-target'"]="$data.dataTarget ? $data.dataTarget : false",t.attr["'fb-ignore-router'"]="$data.hasOwnProperty( 'ignoreRouter' ) ? $data.ignoreRouter : "+e.ignoreRouter,t},listItemNodeBindings:function(){var e=this,t={css:"Firebrick.getById('"+e.getId()+"').nodeCSSRenderer( $data )"};return t}})}),define("Firebrick.ui/nav/List",["../display/List"],function(){"use strict";return Firebrick.define("Firebrick.ui.nav.List",{extend:"Firebrick.ui.display.List",sName:"nav.list",unstyled:!0,linkedList:!0,navbarNavClass:!0,bindings:function(){var e=this,t=e.callParent(arguments);return e.navbarNavClass&&(t.css["'navbar-nav'"]=!0),t.css.nav=!0,t}})}),define("Firebrick.ui/nav/Navbar",["text!./Navbar.html","./Base","./List"],function(e){"use strict";return Firebrick.define("Firebrick.ui.nav.Navbar",{extend:"Firebrick.ui.nav.Base",tpl:e,sName:"nav.navbar",defaults:{navbarItem:!0},navTypeClass:"navbar-static-top",navbarDefaultClass:!0,navbarClass:!0,navbarFormClass:!0,navbarHeaderClass:!0,toggleButton:!0,toggleText:"Toggle navigation",brandClass:!0,brandLink:"/",brandText:"Firebrick.ui",brandTpl:!1,data:null,listGroupClass:!1,navClass:!0,showNavbarHeader:!0,showBranding:!0,bindings:function(){var e=this,t=e.callParent(arguments);return t.attr.role="'navigation'",t.css["'navbar-default'"]=e.navbarDefaultClass,t.css.navbar=e.navbarClass,e.navTypeClass&&(t.css[e.parseBind(e.navTypeClass)]=!0),t},brandBindings:function(){var e=this,t={css:{},attr:{}};return e.brandLink!==!1&&(t.attr.href=e.parseBind(e.brandLink)),e.brandClass&&(t.css["'navbar-brand'"]=e.brandClass),e.brandText&&!e.brandTpl&&(t.text=e.parseBind(e.brandText)),t},listItemBindings:function(){return{css:{active:"$data.active ? $data.active : false"}}},navbarHeaderBindings:function(){var e=this,t={css:{}};return e.navbarHeaderClass&&(t.css["'navbar-header'"]=e.navbarHeaderClass),t},navbarContainerBindings:function(){var e=this,t={attr:{id:e.parseBind("fb-nav-"+e.getId())},css:{}};return e.toggleButton&&(t.css.collapse=!0,t.css["'navbar-collapse'"]=!0),e.navbarFormClass&&(t.css["'navbar-form'"]=!0),t},toggleTextBindings:function(){var e=this;return{text:e.textBind(e.toggleText)}},toggleButtonBindings:function(){var e=this,t="fb-nav-"+e.getId()+"'",n={attr:{type:"'button'","'data-toggle'":"'collapse'","'data-target'":"'#"+t,"'aria-expanded'":!1,"'aria-controls'":"'"+t},css:{collapsed:!0,"'navbar-toggle'":!0}};return n},navbarWrapperBindings:function(){return{css:{container:!0}}}})}),define("Firebrick.ui/nav/Toolbar",["./Navbar"],function(){"use strict";return Firebrick.define("Firebrick.ui.nav.Toolbar",{extend:"Firebrick.ui.nav.Navbar",sName:"nav.toolbar",showBranding:!1,position:"top",init:function(){var e=this;return e.navTypeClass="navbar-fixed-"+e.position,e.callParent(arguments)},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'fb-ui-toolbar'"]=!0,t},navbarContainerBindings:function(){var e=this,t=e.callParent(arguments);return t.css["'navbar-nav'"]=!1,t.css["'fb-ui-navbar'"]=!0,t.css["'form-horizontal'"]=!0,t},navbarWrapperBindings:function(){var e=this,t=e.callParent(arguments);return t.css.container&&delete t.css.container,t.css["'container-fluid'"]=!0,t}})}),define("Firebrick.ui/common/mixins/Toolbars",["jquery","./Items","Firebrick.ui/nav/Toolbar"],function(e){"use strict";return Firebrick.define("Firebrick.ui.common.mixins.Toolbars",{_toolbarDefaults:{navbarItem:!0},toolbars:null,toolbarContainer:function(t){var n=this,r;if(n.toolbars&&e.isArray(n.toolbars)){t.css["'fb-ui-toolbar-container'"]=!0;for(var i=0,s=n.toolbars.length;i<s;i++)r=n.toolbars[i].position,r&&(t.css[n.parseBind("fb-ui-toolbar-"+r)]=!0)}return t},getToolbars:function(){var t=this,n=t.toolbars,r,i="",s;if(n)if(e.isArray(n))for(var o=0,u=n.length;o<u;o++)r=n[o],r.items?(r.sName="nav.toolbar",r.defaults=Firebrick.utils.overwrite(t._toolbarDefaults,r.defaults||{}),s=t._getItems(r),i+=s.html,t.toolbars[o]=s.items[0]):console.warn("a toolbar was found without the items property and didn't render");else console.warn("unable to load toolbars for this panel",t,"toolbars property must be an array of objects");return i}})}),define("text!Firebrick.ui/containers/Accordion.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{=it.getItems()}}\r\n</div>'}),define("text!Firebrick.ui/containers/Panel.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{?it.title !== false || it.collapsible || it.headerItems}}\r\n	<div data-bind="{{=it.dataBind(\'panelHeaderBindings\')}}">\r\n		{{?it.title !== false}}\r\n			{{?it.title}}\r\n		{{?}}\r\n			{{?it.collapsible}}\r\n				<a data-bind="{{=it.dataBind(\'collapsibleLinkBindings\')}}">\r\n			{{?}}\r\n				<h{{=it.headerSize}} data-bind="{{=it.dataBind(\'panelHeaderTextBindings\')}}"></h{{=it.headerSize}}>	\r\n				{{=it.getLabelTpl()}}\r\n			{{?it.collapsible}}\r\n				</a>\r\n			{{?}}\r\n		{{?}}\r\n		{{=it.getDefaultIcons()}}\r\n		{{?it.headerItems}}\r\n			<div data-bind="{{=it.dataBind(\'headerItemsBindings\')}}">\r\n				{{=it.getItemsProp(\'headerItems\')}}\r\n			</div>\r\n		{{?}}\r\n	</div>\r\n	{{?}}\r\n		<div data-bind="{{=it.dataBind(\'tabBindings\')}}">\r\n			<div data-bind="{{=it.dataBind(\'panelBodyBindings\')}}" >\r\n				{{=it.getToolbars()}}\r\n				<div data-bind="{{=it.dataBind(\'panelItemBindings\')}}">\r\n					{{=it.getItems()}}\r\n				</div>\r\n			</div>\r\n		</div>\r\n</div>'}),define("text!Firebrick.ui/containers/panel/Icon.html",[],function(){return'{{?it.scope[it.property] && it.scope[it.showProperty] !== false}}\r\n	<a data-bind="{{=it.scope.dataBind(it.bindingMethod)}}"></a>\r\n{{?}}'}),define("Firebrick.ui/containers/Panel",["text!./Panel.html","text!./panel/Icon.html","jquery","doT","./Base","../nav/Toolbar","../common/mixins/Toolbars","../common/mixins/Label"],function(e,t,n,r){"use strict";return Firebrick.define("Firebrick.ui.containers.Panel",{extend:"Firebrick.ui.containers.Base",mixins:["Firebrick.ui.common.mixins.Toolbars","Firebrick.ui.common.mixins.Label"],sName:"containers.panel",tpl:e,iconTpl:t,role:"",collapseRole:"",title:"",headerSize:3,panelClass:!0,panelTypeClass:"default",panelHeaderClass:!0,panelBodyClass:!0,panelTitleClass:!0,html:"",collapsible:!1,showCollapseIcon:!0,collapsed:!1,_collapsedState:!1,headerItems:!1,headerItemsPosition:"pull-right",_collapsedClass:"fb-ui-is-collapsed",dataParentId:"",active:!1,maximizable:!1,_defaultPanelIcons:["collapsible","maximizable"],init:function(){var e=this;return e._collapsedState=e.collapsed,e.on("rendered",function(){var t=e.getElement(),n;e.collapsed&&t.addClass(e._collapsedClass),n=function(){t.toggleClass(e._collapsedClass),t.trigger("fb-ui-panel-state-change"),e._collapsedState=!e._collapsedState},t.on("show.bs.collapse hide.bs.collapse",n),e.on("unbound",function(){t.off("show.bs.collapse hide.bs.collapse",n)})}),e.callParent(arguments)},toggleCollapse:function(){var e=this;return e._collapsedState?e.expand():e.collapse(),e},getDefaultIcons:function(){var e=this,t,n=e._defaultPanelIcons,i="",s;for(var o=0,u=n.length;o<u;o++)t=n[o],s={property:n[o],showProperty:"show"+Firebrick.utils.firstToUpper(t),bindingMethod:t+"IconBindings",scope:e},i+=r.template(e.iconTpl)(s);return i},collapse:function(){var e=this,t=e.getElement(),r=n("> .panel-collapse",t);return r.collapse("hide"),e},expand:function(){var e=this,t=e.getElement(),r=n("> .panel-collapse",t);return r.collapse("show"),e},bindings:function(){var e=this,t=e.callParent(arguments);return t.css.panel=e.panelClass,e.panelTypeClass&&(t.css[e.parseBind("panel-"+e.panelTypeClass)]=!0),t},tabBindings:function(){var e=this,t={css:{},attr:{id:e.parseBind("fb-ui-collapse-"+e.getId())}};return e.collapsible?(t.css["'panel-collapse'"]=e.collapsible,t.css.collapse=e.collapsible,e.collapsed||(t.css["in"]=!0)):e.collapsed&&(t.css["'panel-collapse'"]=!0,t.css.collapse=!0),e.collapseRole&&(t.attr.role=e.parseBind(e.collapseRole)),t.css["'fb-ui-panel-body-container'"]=!0,t},panelHeaderBindings:function(){var e=this,t={css:{"'panel-heading'":e.panelHeaderClass},attr:{}};return e.headerItems&&(t.css.clearfix=!0),e.role&&(t.attr.role=e.parseBind(e.role)),t},headerItemsBindings:function(){var e=this,t={css:{"'btn-group'":!0}};return e.headerItemsPosition&&(t.css[e.parseBind(e.headerItemsPosition)]=!0),t},collapsibleLinkBindings:function(){var e=this,t="fb-ui-collapse-"+e.getId(),n={css:{"'fb-ui-title-link'":!0},attr:{"'data-toggle'":"'collapse'","'data-target'":e.parseBind("#"+t),"'aria-expanded'":typeof e.collapsed=="boolean"?e.collapsed:!0,"'aria-controls'":e.parseBind(t)}};return e.dataParentId&&(n.attr["'data-parent'"]=e.dataParentId),n},collapsibleIconBindings:function(){var e=this,t={css:{"'fb-ui-panel-icon'":!0,"'fb-ui-collapse-icon'":!0},attr:{}};return t.click="function(){ return Firebrick.ui.helper.callFunction('"+e.getId()+"', '_collapseIconClick', arguments)}",t},_collapseIconClick:function(){var e=this;e.toggleCollapse()},maximizableIconBindings:function(){var e={css:{"'fb-ui-panel-icon'":!0,glyphicon:!0,"'glyphicon-fullscreen'":!0}};return e},panelHeaderTextBindings:function(){var e=this,t={css:{"'panel-title'":e.panelTitleClass}};return typeof e.title!="boolean"&&(t.text=e.textBind(e.title)),e.headerItems&&(t.css["'pull-left'"]=!0),e.labelText&&(t.css["'fb-ui-has-label'"]=!0),t},panelBodyBindings:function(){var e=this,t={css:{"'panel-body'":e.panelBodyClass}};return e.toolbarContainer(t),t},panelItemBindings:function(){var e=this,t={};if(!e.items||e.items&&!e.items.length)t.html="Firebrick.ui.helper.getHtml( '"+e.getId()+"', $data, $context )";return t}})}),define("Firebrick.ui/containers/Accordion",["text!./Accordion.html","./Base","./Panel","bootstrap.plugins/collapse"],function(e){"use strict";return Firebrick.define("Firebrick.ui.containers.Accordion",{extend:"Firebrick.ui.containers.Base",tpl:e,sName:"containers.accordion",defaults:{sName:"containers.panel",collapsible:!0,role:"tab",collapseRole:"tabpanel"},role:"tablist",ariaMultiselectable:!0,panelGroupClass:"panel-group",bindings:function(){var e=this,t=e.callParent(arguments);return t.attr.role=e.parseBind(e.role),t.attr["'aria-multiselectable'"]=e.ariaMultiselectable,e.panelGroupClass&&(t.css[e.parseBind(e.panelGroupClass)]=!0),t},getItems:function(){var e=this,t;for(var n=0,r=e.items.length;n<r;n++)t=e.items[n],t.dataParentId=e.parseBind("#"+e.getId()),t.collapsed=t.active?!1:!0;return e.callParent(arguments)}})}),define("Firebrick.ui/containers/border/Draggable",["jquery"],function(e){"use strict";e.fn.drags=function(t,n){var r,i,s,o,u,a=function(e,t){return t=t.toUpperCase(),e.type.indexOf("touch")>=0?e.originalEvent.targetTouches[0]["page"+t]:e["page"+t]};return t=t.toLowerCase(),n=e.extend({handle:""},n),n.handle===""?r=this:r=this.find(n.handle),r.prop("dragSet")===!0?r:(r.prop("dragSet",!0),r.on("mouseover",function(){var t=e(this);t.prop("dragDisabled")===!0?t.css("cursor","auto"):t.css("cursor","")}).on("mousedown touchstart",function(r){var f=n.handle?e(this).addClass("active-handle").parent().addClass("draggable"):e(this).addClass("draggable"),l=f.css("z-index"),c=f.outerHeight(),h=f.outerWidth(),p=f.offset().top+c-a(r,"y"),d=f.offset().left+h-a(r,"x"),v;s=a(r,"y"),i=a(r,"x"),v=function(e){o=(t==="horizontal"?s:a(e,"y"))+p-c,u=(t==="vertical"?i:a(e,"x"))+d-h,f.offset({top:o,left:u})},f.on("mouseup touchend",function(){f.removeClass("draggable").css("z-index",l),e("html").off("mousemove touchmove","body",v)}),f.prop("dragDisabled")===!0?e("html").off("mousemove touchmove","body",v):(f.css("z-index",1e3),e("html").on("mousemove touchmove","body",v)),r.preventDefault()}).on("mouseup touchend",function(){var t=e(this);t.prop("dragDisabled")!==!0&&(n.handle===""?t.removeClass("draggable"):t.removeClass("active-handle").parent().removeClass("draggable"),t.trigger("dragged",[o-s,u-i]),t.css({top:0,left:0}))}))}}),define("text!Firebrick.ui/containers/border/SplitBar.html",[],function(){return'{{?it.resizable || it.collapsible}}\r\n<div id="{{=it.getSplitBarId()}}" data-bind="{{=it.dataBind(\'splitBarBindings\')}}">\r\n	{{?it.collapsible}}\r\n		<span data-bind="{{=it.dataBind(\'splitBarCollapseBindings\')}}"></span>\r\n	{{?}}\r\n</div>\r\n{{?}}'}),define("Firebrick.ui/containers/border/Pane",["text!./SplitBar.html","jquery","../../common/mixins/Column","./Draggable","../Panel"],function(e,t){"use strict";return Firebrick.define("Firebrick.ui.containers.border.Pane",{extend:"Firebrick.ui.containers.Panel",mixins:"Firebrick.ui.common.mixins.Column",sName:"containers.border.pane",resizable:!1,position:"",collapseDirection:"left",splitBarIdPrefix:"fb-ui-splitbar-",splitBarTpl:e,_rotatedHeadingClass:"panel-rotated-heading",_rotatedTitleClass:"panel-rotated-title",_positionPrefixClass:"fb-ui-pane-position-",_transitionClass:"fb-ui-transition",height:"auto",width:"33%",title:!1,init:function(){var e=this;return e.on("htmlRendered",function(){return e._htmlRendered.apply(e,arguments)}),e.on("rendered",function(){return e._rendered.apply(e,arguments)}),e.callParent(arguments)},_htmlRendered:function(){var e=this,t,n,r=e.position;r!=="center"&&(t=e.getElement(),t&&(e.template("splitBarTpl"),n=e.build("splitBarTpl"),r!=="right"&&r!=="bottom"?t.after(n):t.before(n))),e._setDimensions()},_setDimensions:function(){var e=this,t=e.getElement(),n=e.position,r=e.height,i=e.width;(n==="top"||n==="bottom")&&r!=="auto"&&(t.css("height",r),t.css("min-height",r));if(n==="left"||n==="right")t.css("width",i),t.css("min-width",i)},_rendered:function(){var e=this,t=e.getElement(),n=e.position,r=n==="top"||n==="bottom"?"vertical":"horizontal",i=n==="top"||n==="left"?"next":"prev",s=t[i](".fb-ui-splitbar");t.prop("fb-direction",r),t.prop("fb-splitbar",s),e.collapsible&&(s.on("click touchstart","> .fb-ui-collapse-icon",function(){e.toggleCollapse.call(e)}),e.setCollapsibleActions()),e.resizable&&e.setResizableActions(),(e.resizable||e.collapsible)&&t.on("fb-ui-panel-state-change",function(){t.hasClass(e._collapsedClass)?e.onCollapsed():e.onExpanded()})},setCollapsibleActions:function(){var e=this,n=e.getElement(),r=e.position;r==="left"||r==="right"?(t("> .panel-collapse",n).on("hide.bs.collapse",function(){return e._onRLPaneCollapse.apply(e,arguments)}),t("> .panel-collapse",n).on("show.bs.collapse",function(){return e._onRLPaneExpand.apply(e,arguments)})):(t("> .panel-collapse",n).on("hide.bs.collapse",function(){return e._onTBPaneCollapse.apply(e,arguments)}),t("> .panel-collapse",n).on("show.bs.collapse",function(){return e._onTBPaneExpand.apply(e,arguments)}))},setResizableActions:function(){var e=this,n=e.position,r=e.getElement(),i=t("> .panel-heading",r),s=r.prop("fb-direction"),o=r.prop("fb-splitbar");o.length&&(s==="vertical"?(r.hasClass(e._collapsedClass)||e.onExpanded(),o.on("dragged",function(e,t){var s;n==="top"?(s=r.height()+t,s>0&&(s-=i.height()),r.css("height",s),r.css("min-height",s)):(s=r.height()-t,s<0&&(s+=i.height()),r.css("height",s),r.css("min-height",s))})):(r.hasClass(e._collapsedClass)||e.onExpanded(),o.on("dragged",function(e,t,i){var s=r.width();n==="right"?(r.width(s-i),r.css("min-width",s-i)):(r.width(s+i),r.css("min-width",s+i))})))},_onTBPaneCollapse:function(){var e=this,n=e.getElement(),r=t("> .panel-heading",n),i=r.outerHeight();n.prop("_fbResizeHeight")||(n.css("min-height",n.css("min-height")),n.css("height",n.css("height"))),n.addClass(e._transitionClass),n.prop("_fbResizeHeight",n.css("height")),n.css("min-height",i),n.css("height",i),n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){n.removeClass(e._transitionClass)})},_onTBPaneExpand:function(){var e=this,t=e.getElement();t.addClass(e._transitionClass),t.css("min-height",t.prop("_fbResizeHeight")),t.css("height",t.prop("_fbResizeHeight")),t.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t.removeClass(e._transitionClass)})},_onRLPaneExpand:function(){var e=this,n=e.getElement(),r=t("> .panel-heading",n),i=t(".panel-title",r);n.addClass(e._transitionClass),n.trigger("pane-expanding"),r.removeClass(e._rotatedHeadingClass),i.removeClass(e._rotatedTitleClass),n.css("min-width",n.prop("_fbResizeWidth")),n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){n.removeClass(e._transitionClass)})},_onRLPaneCollapse:function(){var e=this,n=e.getElement(),r=t("> .panel-heading",n),i=t(".panel-title",r),s=r.outerHeight()||0;n.addClass(e._transitionClass),n.trigger("pane-collapsing"),n.prop("_fbResizeWidth",n.css("width")),n.css("min-width",s),n.css("width",s),n.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){r.addClass(e._rotatedHeadingClass),i.addClass(e._rotatedTitleClass),n.removeClass(e._transitionClass)})},onExpanded:function(){var e=this,t=e.getElement(),n=t.prop("fb-direction"),r=t.prop("fb-splitbar");r.length&&e.resizable&&(r.prop("dragDisabled",!1),r.drags(n)),r.removeClass("fb-ui-is-collapsed")},onCollapsed:function(){var e=this,t=e.getElement(),n=t.prop("fb-splitbar");n.length&&e.resizable&&n.prop("dragDisabled",!0),n.addClass("fb-ui-is-collapsed")},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'fb-ui-border-pane'"]=!0,t.css[e.parseBind(e._positionPrefixClass+e.position)]=!0,e.collapsible&&(t.css["'fb-ui-pane-collapsible'"]=!0),t},splitBarBindings:function(){var e=this,t={css:{"'fb-ui-splitbar'":!0},attr:{}};return t.css[e.parseBind("fb-ui-splitbar-"+e.position)]=!0,e.resizable&&(e.position==="top"||e.position==="bottom"?t.css["'fb-ui-splitbar-horizontal'"]=!0:t.css["'fb-ui-splitbar-vertical'"]=!0),e.collapsible&&(t.css["'fb-ui-collapsebar'"]=!0),t},getSplitBarId:function(){var e=this;return e.splitBarIdPrefix+e.getId()},splitBarCollapseBindings:function(){var e=this,t={css:{}};return t.css.glyphicon=!0,t.css["'fb-ui-collapse-icon'"]=!0,e.position==="left"?t.css["'glyphicon-chevron-left'"]=!0:e.position==="right"?t.css["'glyphicon-chevron-right'"]=!0:e.position==="top"?t.css["'glyphicon-chevron-up'"]=!0:e.position==="bottom"&&(t.css["'glyphicon-chevron-down'"]=!0),t},panelBodyBindings:function(){var e=this,t=e.callParent(arguments);return t.css=t.css||{},t.css["'fb-ui-border-pane-body'"]=!0,t}})}),define("text!Firebrick.ui/containers/BorderLayout.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n\r\n	{{=it.getItems()}}\r\n\r\n</div>'}),define("Firebrick.ui/containers/BorderLayout",["text!./BorderLayout.html","./Base","./Box","./border/Pane"],function(e){"use strict";return Firebrick.define("Firebrick.ui.containers.BorderLayout",{extend:"Firebrick.ui.containers.Base",tpl:e,sName:"containers.borderlayout",defaults:{sName:"containers.border.pane"},items:null,_maxGridCols:12,defaultSizes:{top:"100%",right:"33%",bottom:"100%",left:"33%"},height:"fit",init:function(){var e=this,t;return e.on("rendered",function(){var n=e.getElement(),r=e.height;r==="fit"?(n.css("height",n.parent().height()),t=function(){n.css("height",n.parent().height())},$(window).on("resize",t),e.on("unbound",function(){$(window).off("resize",t)})):r!=="auto"&&n.css("height",r)}),e.callParent(arguments)},build:function(){var e=this,t={},n=[],r,i,s,o={sName:"containers.box",defaults:e.defaults,css:"row-eq-height fb-ui-center-row",items:[]},u=!1;if(e.items){s=e.items.length;if(s){for(var a=0;a<s;a++)r=e.items[a],r.position=r.position.toLowerCase(),i=e._itemArrayPosition(r.position),t[i]=r;for(var f=0;f<5;f++)r=t[f],r&&(f>0&&f<4?(o.items.push(r),o.items.length&&!u&&(u=!0,n.push(o))):n.push(r));e.items=n}}return e.callParent(arguments)},_itemArrayPosition:function(e){var t;return e==="top"?t=0:e==="left"?t=1:e==="center"?t=2:e==="right"?t=3:e==="bottom"&&(t=4),t},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'fb-ui-borderlayout'"]=!0,t}})}),define("text!Firebrick.ui/containers/Fieldset.html",[],function(){return'<fieldset id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{?it.showLegend}}\r\n		{{?it.collapsible}}\r\n			<a data-bind="{{=it.dataBind(\'collapsibleLinkBindings\')}}">\r\n		{{?}}\r\n			<legend data-bind="{{=it.dataBind(\'legendBindings\')}}">\r\n				{{?it.collapsible}}\r\n					<span data-bind="{{=it.dataBind(\'collapsibleBindings\')}}"></span>\r\n				{{?}}\r\n				<span data-bind="{{=it.dataBind(\'legendTextBindings\')}}"></span>\r\n				{{=it.getLabelTpl()}}\r\n			</legend>\r\n		{{?it.collapsible}}\r\n			</a>\r\n		{{?}}\r\n	{{?}}\r\n\r\n	<div data-bind="{{=it.dataBind(\'contentBindings\')}}">\r\n		{{=it.getItems()}}\r\n	</div>\r\n\r\n</fieldset>'}),define("Firebrick.ui/containers/Fieldset",["text!./Fieldset.html","jquery","../common/mixins/Label"],function(e,t){"use strict";return Firebrick.define("Firebrick.ui.containers.Fieldset",{extend:"Firebrick.ui.containers.Base",mixins:"Firebrick.ui.common.mixins.Label",sName:"containers.fieldset",tpl:e,title:"",collapsible:!1,collapsed:!1,fieldsetBodyClass:"fb-ui-fieldset-body",showLegend:!0,collapsedClass:"collapsed",formHorizontalClass:!0,animated:!0,expandIconClass:"glyphicon-chevron-right",collapseIconClass:"glyphicon-chevron-down",init:function(){var e=this,n=e.callParent();return e.on("rendered",function(){var n=e.getElement(),r=t("> a[data-collapse='"+e.getId()+"']",n);r.on("click",function(){e.collapseClick.apply(e,arguments)})}),n},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'form-horizontal'"]=e.formHorizontalClass,t},collapseClick:function(e){var n=this,r,i,s;e.preventDefault(),r=n.getElement(),i=t("> div."+n.fieldsetBodyClass,r),s=t("> a > legend > span.fb-ui-collapsed-icon",r),i.is(":visible")?(s.removeClass(n.collapseIconClass),s.addClass(n.expandIconClass),r.addClass(n.collapsedClass),i.hide()):(s.removeClass(n.expandIconClass),s.addClass(n.collapseIconClass),r.removeClass(n.collapsedClass),i.show())},legendBindings:function(){return{}},legendTextBindings:function(){var e=this,t={css:{},attr:{},text:e.textBind(e.title)};return t},collapsibleBindings:function(){var e=this,t={css:{"'fb-ui-collapsed-icon'":!0}};return t.css.glyphicon=!0,e.collapsed?t.css[e.parseBind(e.expandIconClass)]=!0:t.css[e.parseBind(e.collapseIconClass)]=!0,t},collapsibleLinkBindings:function(){var e=this,t={attr:{"'data-collapse'":e.parseBind(e.getId())}};return t},contentBindings:function(){var e=this,t={css:{collapsed:e.collapsed}};return t.css[e.parseBind(e.fieldsetBodyClass)]=!0,t}})}),define("text!Firebrick.ui/containers/Form.html",[],function(){return'<form id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{=it.getItems()}}\r\n</form>'}),define("Firebrick.ui/containers/Form",["text!./Form.html","jquery","./Base"],function(e,t){"use strict";return Firebrick.define("Firebrick.ui.containers.Form",{extend:"Firebrick.ui.containers.Base",sName:"containers.form",tpl:e,formRole:"form",horizontal:!0,html:"",inline:!1,enctype:"application/x-www-form-urlencoded",showProgress:!0,ajaxProcessData:!1,url:"/",submitType:"post",catchProgress:!1,preSubmit:function(e){e.preventDefault()},formTarget:null,xhr:function(){var e=this,t=new window.XMLHttpRequest;return t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var n=t.loaded/t.total;e.catchProgress&&e.fireEvent("progressChanged",n)}},!1),t.addEventListener("progress",function(t){if(t.lengthComputable){var n=t.loaded/t.total;e.catchProgress&&e.fireEvent("progressChanged",n)}},!1),t},success:function(){console.info("success",arguments)},error:function(){console.warn("error",arguments)},complete:function(){},always:function(){},beforeSend:function(){},getFormData:function(){var e=this;return new window.FormData(e.getElement())},init:function(){var e=this;return e.on("rendered",function(){var t=e.getElement();t&&t.on("submit",function(){e.preSubmit.apply(e,arguments)!==!1&&e.submit()})}),e.callParent(arguments)},submit:function(){var e=this,n=e.getElement();if(!e.url||typeof e.url!="string"){console.error("unable to submit form. No url is set or is set incorrectly",e.url,e);return}if(!n){console.error("unable to submit form. Form not found for id",e.getId());return}window.FormData?t.ajax({xhr:e.xhr,url:e.url,type:e.submitType,data:new window.FormData(n[0]),processData:e.ajaxProcessData,contentType:e.enctype,beforeSend:e.beforeSend.bind(e),complete:e.complete.bind(e),success:e.success.bind(e),error:e.error.bind(e)}).always(e.always.bind(e)):console.error("FormData is not supported by your browser")},bindings:function(){var e=this,t=e.callParent(arguments);return t.attr.role=e.parseBind(e.formRole),t.attr.enctype=e.parseBind(e.enctype),t.css["'form-horizontal'"]=e.horizontal,t.css["'form-inline'"]=e.inline,t.attr.action="Firebrick.getById('"+e.getId()+"').url",t.attr.method=e.parseBind(e.submitType),e.formTarget&&(t.attr.target=e.parseBind(e.formTarget)),e.items||(t.html="Firebrick.ui.helper.getHtml( '"+e.getId()+"', $data, $context )"),t}})}),define("Firebrick.ui/containers/FormPanel",["./Panel","./Form"],function(){"use strict";return Firebrick.define("Firebrick.ui.containers.FormPanel",{extend:"Firebrick.ui.containers.Panel",sName:"containers.formpanel",formConfig:null,init:function(){var e=this,t=e.formConfig||{};return t.sName="containers.form",e.items?t.items=e.items:t.html=e.html,e.items=[t],e.callParent(arguments)}})}),define("text!Firebrick.ui/containers/Modal.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n  <div data-bind="{{=it.dataBind(\'dialogBindings\')}}">\r\n    <div data-bind="{{=it.dataBind(\'contentBindings\')}}">\r\n      <div data-bind="{{=it.dataBind(\'headerBindings\')}}">\r\n      	{{?it.showCloseIcon}}\r\n      		<button data-bind="{{=it.dataBind(\'closeButtonBindings\')}}"><span aria-hidden="true">&times;</span><span data-bind="{{=it.dataBind(\'srCloseIconBindings\')}}"></span></button>\r\n      	{{?}}\r\n        <h{{=it.titleSize}} id="{{=it.getTitleId()}}" data-bind="{{=it.dataBind(\'titleBindings\')}}"></h{{=it.titleSize}}>\r\n      </div>\r\n      <div data-bind="{{=it.dataBind(\'bodyBindings\')}}">\r\n        {{=it.getItems()}}\r\n      </div>\r\n      {{?it.footerItems}}\r\n	      <div data-bind="{{=it.dataBind(\'footerBindings\')}}">\r\n	      	{{=it.getItemsProp(\'footerItems\')}}\r\n	      </div>\r\n      {{?}}\r\n    </div><!-- /.modal-content -->\r\n  </div><!-- /.modal-dialog -->\r\n</div><!-- /.modal -->'}),define("Firebrick.ui/containers/Modal",["text!./Modal.html","./Base"],function(e){"use strict";return Firebrick.define("Firebrick.ui.containers.Modal",{extend:"Firebrick.ui.containers.Base",tpl:e,target:"body",appendTarget:!0,sName:"containers.modal",init:function(){var e=this;return e.on("rendered",function(){e.showOnCreate&&e.showMe(),e.getElement().on("hidden.bs.modal",function(){e.destroy()})}),e.callParent(arguments)},enclosedBind:!0,_modalEl:null,getModalEl:function(){var e=this;return e._modalEl||(e._modalEl=$("> .modal",e.getElement())),e._modalEl},showMe:function(){var e=this;e.getModalEl().modal()},ariaDescribedBy:"",showOnCreate:!0,title:"",html:"",titleClass:!0,bodyClass:!0,animationClass:"fade",dialogClass:!0,contentClass:!0,headerClass:!0,isModal:!0,footerClass:!0,footerItems:null,titleSize:4,showCloseIcon:!0,srCloseText:"Close",srCloseIconBindings:function(){var e=this;return{css:{"'sr-only'":!0},text:e.parseBind(e.srCloseText)}},closeButtonBindings:function(){return{attr:{type:"'button'","'data-dismiss'":"'modal'"},css:{close:!0}}},getTitleId:function(){return"fb-modal-title-"+this.getId()},bindings:function(){var e=this,t=this.callParent();return t.css.modal=e.isModal,t.attr["'aria-labelledby'"]=e.parseBind(e.getTitleId()),t.attr["'aria-describedby'"]=e.parseBind(e.ariaDescribedBy),t.attr.role="'dialog'",t.attr.tabindex=-1,t.attr["'aria-hidden'"]=!0,e.animationClass&&(t.css[e.animationClass]=!0),t},dialogBindings:function(){var e=this;return{css:{"'modal-dialog'":e.dialogClass}}},contentBindings:function(){var e=this;return{css:{"'modal-content'":e.contentClass}}},headerBindings:function(){var e=this;return{css:{"'modal-header'":e.headerClass}}},titleBindings:function(){var e=this;return{text:e.textBind(e.title),css:{"'modal-title'":e.titleClass}}},bodyBindings:function(){var e=this,t={css:{"'modal-body'":e.bodyClass}};return e.items||(t.html="Firebrick.ui.helper.getHtml( '"+e.getId()+"', $data, $context )"),t},footerBindings:function(){var e=this;return{css:{"'modal-footer'":e.footerClass}}},close:function(){var e=this;e.getModalEl().modal("hide")}})}),define("text!Firebrick.ui/containers/tab/Pane.html",[],function(){return'<div data-bind="{{=it.dataBind()}}">\r\n	{{=it.getItems()}}\r\n</div>'}),define("Firebrick.ui/containers/tab/Pane",["text!./Pane.html","../Base","bootstrap.plugins/tab"],function(e){"use strict";return Firebrick.define("Firebrick.ui.containers.tab.Pane",{extend:"Firebrick.ui.containers.Base",tpl:e,sName:"containers.tab.pane",active:!1,html:"",getTab:function(){return this._parent},paneIndex:0,getPaneId:function(){var e=this,t=e.getTab();return t.getTabId(e.paneIndex)},bindings:function(){var e=this,t=e.callParent();return t.attr.role="'tabpanel'",t.css["'tab-pane'"]=!0,t.css.active=e.active,t.attr.id="Firebrick.getById('"+e.getId()+"').getPaneId()",e.items||(t.html="Firebrick.ui.helper.getHtml( '"+e.getId()+"', $data, $context )"),t}})}),define("text!Firebrick.ui/containers/TabPanel.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n\r\n	<ul data-bind="{{=it.dataBind(\'listBindings\')}}">\r\n		<!-- ko {{=it.dataBind(\'listTemplateBindings\')}} --><!-- /ko -->\r\n	</ul>\r\n	\r\n	<div data-bind="{{=it.dataBind(\'tabContentBindings\')}}">\r\n		{{~ it.items :value:index}}\r\n			{{=it.getTabPaneItem(index, value)}}\r\n		{{~}}\r\n	</div>\r\n	\r\n	<script type="text/html" id="{{=it._getListTplId()}}">\r\n		<li data-bind="{{=it.dataBind(\'listItemBindings\')}}"><a data-bind="{{=it.dataBind(\'listItemLinkBindings\')}}"><span data-bind="{{=it.dataBind(\'listItemTextBindings\')}}"></span></a></li>\r\n	</script>\r\n\r\n</div>'}),define("Firebrick.ui/containers/TabPanel",["text!./TabPanel.html","./Base","bootstrap.plugins/tab","./tab/Pane"],function(e){"use strict";return Firebrick.define("Firebrick.ui.containers.TabPanel",{extend:"Firebrick.ui.containers.Base",tpl:e,sName:"containers.tabpanel",_getListTplId:function(){return"fb-ui-tpl-list-"+this.getId()},_getTabPaneTplId:function(){return"fb-ui-tpl-tabpane-"+this.getId()},_tabs:null,defaults:{sName:"containers.tab.pane"},init:function(){var e=this;return this._firstTabActive(),e.callParent(arguments)},_firstTabActive:function(){var e=this,t,n=!1,r=e.items.length;for(var i=0;i<r;i++){t=e.items[i];if(t.active){n=!0;break}}return!n&&r&&(e.items[0].active=!0),e},bindings:function(){var e=this,t=e.callParent();return t.attr.role="'tabpanel'",t},listTemplateBindings:function(){var e=this,t={};return t.template={name:e.parseBind(e._getListTplId()),foreach:Firebrick.ui.helper.tabBuilder(e.getId()),as:"'tab'"},t},listBindings:function(){var e={css:{},attr:{}};return e.attr.role="'tablist'",e.css.nav=!0,e.css["'nav-tabs'"]=!0,e},listItemBindings:function(){var e={css:{},attr:{}};return e.attr.role="'presentation'",e.css.active="tab.hasOwnProperty('active') ? tab.active : false",e.css.disabled="tab.disabled",e},listItemLinkBindings:function(){var e=this,t={css:{},attr:{}};return t.attr.href="Firebrick.ui.helper.linkBuilder(tab)",t.attr["'aria-controls'"]="tab.id",t.attr["'data-target'"]="Firebrick.getById('"+e.getId()+"').registerTab(tab.id, $index)",t.attr.role="'tab'",t.attr["'data-toggle'"]="tab.disabled !== true ? 'tab' : false",t},listItemTextBindings:function(){var e=this,t={css:{},attr:{}};return t.text=e.textBind("'+tab.title+'"),t},tabContentBindings:function(){var e={css:{},attr:{}};return e.css["'tab-content'"]=!0,e},registerTab:function(e,t){var n=this,r;return $.isFunction(t)&&(t=t()),r=e||"fb-ui-tab-"+n.getId()+"-"+t,n.addTab(r),"#"+r},addTab:function(e){var t=this;return t._tabs||(t._tabs=[]),t._tabs.push(e),t},getTabId:function(e){return this._tabs[e]},getTabPaneItem:function(e,t){var n=this,r;return t.paneIndex=e,r=n._getItems(t),r?(n.items[e]=r.items[0],r.html):""}})}),define("text!Firebrick.ui/display/Alert.html",[],function(){return'<div data-bind="{{=it.dataBind()}}">\r\n	{{?it.dismissible}}\r\n      <button data-bind="{{=it.dataBind(\'closeButtonBindings\')}}"><span aria-hidden="true">&times;</span><span data-bind="{{=it.dataBind(\'srCloseIconBindings\')}}"></span></button>\r\n    {{?}}\r\n    {{?it.title || it.html}}\r\n    	<h4>{{=Firebrick.text(it.title)}}</h4>\r\n    	<p data-bind="{{=it.dataBind(\'paragraphBindings\')}}">\r\n    	</p>\r\n    {{?? true }}\r\n    	{{=it.getItems()}}\r\n    {{?}}\r\n	\r\n</div>'}),define("Firebrick.ui/display/Alert",["text!./Alert.html","../common/Base","../common/mixins/Items"],function(e){"use strict";return Firebrick.define("Firebrick.ui.display.Alert",{extend:"Firebrick.ui.common.Base",mixins:"Firebrick.ui.common.mixins.Items",tpl:e,sName:"display.alert",dismissible:!0,animationClasses:"fade in",type:"danger",title:"",html:"",bindings:function(){var e=this,t=e.callParent(arguments);return t.attr.role="'alert'",t.css.alert=!0,t.css["'alert-dismissible'"]=e.dismissible,e.animationClasses&&(t.css[e.parseBind(e.animationClasses)]=!0),t.css[e.parseBind("alert-"+e.type)]=!0,t},paragraphBindings:function(){var e=this,t={};return t.html="Firebrick.getById('"+e.getId()+"').html",t},srCloseText:"Close",srCloseIconBindings:function(){var e=this;return{css:{"'sr-only'":!0},text:e.parseBind(e.srCloseText)}},closeButtonBindings:function(){return{attr:{type:"'button'","'data-dismiss'":"'alert'"},css:{close:!0}}}})}),define("text!Firebrick.ui/display/Divider.html",[],function(){return'<hr data-bind="{{=it.dataBind()}}" />'}),define("Firebrick.ui/display/Divider",["text!./Divider.html","../common/Base"],function(e){"use strict";return Firebrick.define("Firebrick.ui.display.Divider",{extend:"Firebrick.ui.common.Base",sName:"display.divider",tpl:e})}),define("text!Firebrick.ui/display/Header.html",[],function(){return'<h{{=it.headerSize}} id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	{{?it.href}}\r\n		<a href="{{=it.href}}" data-bind="{{=it.dataBind(\'hrefBindings\')}}">\r\n	{{?}}\r\n	<span data-bind="{{=it.dataBind(\'textBindings\')}}"></span>\r\n	<small data-bind="{{=it.dataBind(\'secondaryTextBindings\')}}"></small>\r\n	{{=it.getLabelTpl()}}\r\n	{{?it.href}}\r\n		</a>\r\n	{{?}}\r\n</h{{=it.headerSize}}>'}),define("Firebrick.ui/display/Header",["text!./Header.html","../common/Base","../common/mixins/Label"],function(e){"use strict";return Firebrick.define("Firebrick.ui.display.Header",{extend:"Firebrick.ui.common.Base",mixins:"Firebrick.ui.common.mixins.Label",sName:"display.header",tpl:e,headerSize:1,text:"",secondaryText:"",href:null,ignoreRouter:!0,textBindings:function(){var e=this,t={};return t.text=e.textBind(e.text),t},secondaryTextBindings:function(){var e=this;return e.secondaryText?{text:e.textBind(e.secondaryText)}:{visible:!1}},hrefBindings:function(){var e=this,t={attr:{}};return t.attr["'fb-ignore-router'"]="$data.hasOwnProperty( 'ignoreRouter' ) ? $data.ignoreRouter : "+e.ignoreRouter,t}})}),define("text!Firebrick.ui/display/Image.html",[],function(){return'<img id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}" />'}),define("Firebrick.ui/display/Image",["text!./Image.html","../common/Base","responsive-images"],function(e){"use strict";return Firebrick.define("Firebrick.ui.display.Image",{extend:"Firebrick.ui.common.Base",sName:"display.image",tpl:e,init:function(){var e=this;e.on("rendered",function(){window.responsiveImages&&window.responsiveImages.update(e.getId())}),this.callParent(arguments)},src:"",sizes:"",srcset:"",responsiveClass:!0,imgType:"rounded",bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'img-responsive'"]=e.responsiveClass,e.imgType&&(t.css[e.parseBind("img-"+e.imgType)]=!0),e.sizes&&(t.attr["'data-sizes'"]=e.sizes),e.srcset&&(t.attr["'data-srcset'"]=e.srcset),e.src&&(t.attr.src=e.src),t}})}),define("text!Firebrick.ui/display/Loader.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	<div data-bind="{{=it.dataBind(\'maskBindings\')}}"></div>\r\n	<div data-bind="{{=it.dataBind(\'msgContainerBindings\')}}">\r\n		<span data-bind="{{=it.dataBind(\'spinnerBindings\')}}"></span>\r\n		<span data-bind="{{=it.dataBind(\'msgBindings\')}}"></span>\r\n	</div>	\r\n</div>'}),define("Firebrick.ui/display/Loader",["text!./Loader.html","jquery","../common/Base","../common/mixins/Items"],function(e,t){"use strict";return Firebrick.define("Firebrick.ui.display.Loader",{extend:"Firebrick.ui.common.Base",enclosedBind:!0,target:"body",appendTarget:!0,mixins:"Firebrick.ui.common.mixins.Items",tpl:e,sName:"display.loader",msgText:"Please wait...",init:function(){var e=this,t=e.getTarget();return t.is("input")&&(e.target=t.parent()),e.on("rendered",function(){e._initRender()}),e.callParent(arguments)},_initRender:function(){var e=this,t=e.getTarget();t.addClass("fb-ui-loader-open"),e.position()},destroy:function(){var e=this,t=e.getTarget();return t.removeClass("fb-ui-loader-open"),e.callParent(arguments)},_getCalcTarget:function(){var e=this;return e.target==="body"||e.target==="html"?t(window):e.getTarget()},position:function(){var e=this,n=e._getCalcTarget(),r=e.getElement(),i=t(".fb-ui-loader-msg-container",r),s=i.outerWidth()/2,o=i.outerHeight()/2;i.css({top:n.height()/2-o,left:n.width()/2-s})},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'fb-ui-loader-container'"]=!0,t},maskBindings:function(){var e={css:{"'fb-ui-loader-mask'":!0}};return e},spinnerBindings:function(){var e={css:{"'fb-ui-loader-spinner'":!0,glyphicon:!0,"'glyphicon-refresh'":!0,"'glyphicon-refresh-animate'":!0}};return e},msgContainerBindings:function(){var e={css:{"'fb-ui-loader-msg-container'":!0}};return e},msgBindings:function(){var e=this,t={css:{"'fb-ui-loader-msg'":!0}};return e.msgText&&(t.text=e.textBind(e.msgText)),t}})}),define("text!Firebrick.ui/display/Progress.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind(\'progressContainerBindings\')}}">\r\n	{{?it.showLabel}}\r\n		<p data-bind="{{=it.dataBind(\'progressLabelBindings\')}}" ></p>\r\n	{{?}}\r\n	<progress data-bind="{{=it.dataBind()}}"></progress>\r\n</div>'}),define("Firebrick.ui/display/Progress",["text!./Progress.html","../common/Base"],function(e){"use strict";return Firebrick.define("Firebrick.ui.display.Progress",{extend:"Firebrick.ui.common.Base",sName:"display.progress",tpl:e,max:100,value:0,showLabel:!0,dataSymbol:"%",label:"",bindings:function(){var e=this,t=e.callParent(arguments);return t.attr.max=e.max,t.attr.value=e.value,t.text=e.parseBind(e.value+"%"),t},progressLabelBindings:function(){var e=this;return{css:{"'progress-label'":!0},attr:{"'data-symbol'":e.parseBind(e.dataSymbol),"'data-value'":e.value},text:e.textBind(e.label),style:{width:e.parseBind(e.value+"%")}}},progressContainerBindings:function(){return{css:{"'progress-container'":!0}}}})}),define("text!Firebrick.ui/display/Span.html",[],function(){return'<span id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}"></span>'}),define("Firebrick.ui/display/Span",["text!./Span.html","../common/Base"],function(e){"use strict";return Firebrick.define("Firebrick.ui.display.Span",{extend:"Firebrick.ui.common.Base",sName:"display.span",tpl:e,text:"",labelStyle:"",bindings:function(){var e=this,t=e.callParent(arguments);return t.text="Firebrick.getById('"+e.getId()+"').text",e.labelStyle&&(e.css.label=!0,e.css[e.parseBind("label-"+e.labelStyle)]=!0),t}})}),define("text!Firebrick.ui/display/Text.html",[],function(){return'{{?it.blockQuote}}\r\n<blockquote data-bind="{{=it.dataBind(\'blockQuoteBindings\')}}">\r\n{{?}}\r\n	<p data-bind="{{=it.dataBind()}}">\r\n	</p>\r\n	{{?it.blockQuoteFooter}}\r\n	<footer data-bind="{{=it.dataBind(\'blockQuoteFooterBindings\')}}"></footer>\r\n	{{?}}\r\n{{?it.blockQuote}}\r\n</blockquote>\r\n{{?}}'}),define("Firebrick.ui/display/Text",["text!./Text.html","../common/Base"],function(e){"use strict";return Firebrick.define("Firebrick.ui.display.Text",{extend:"Firebrick.ui.common.Base",sName:"display.text",tpl:e,isHtml:!1,text:"",leadCSS:!1,blockQuote:!1,blockQuoteReverseCSS:!1,blockQuoteFooter:!1,isBlockQuoteFooterHTML:!1,textAlignment:"",bindings:function(){var e=this,t=e.callParent(arguments);return t.css.lead=e.leadCSS,e.textAlignment&&(t.css[e.parseBind("text-"+e.textAlignment)]=!0),e.isHtml?t.html=e.text:e.text&&(t.text=e.textBind(e.text)),t},blockQuoteBindings:function(){return{css:{"'blockquote-reverse'":this.blockQuoteReverseCSS}}},blockQuoteFooterBindings:function(){var e=this,t={};return e.isHtml?t.html=e.blockQuoteFooter:t.text=e.textBind(e.blockQuoteFooter),t}})}),define("text!Firebrick.ui/fields/Radio.html",[],function(){return"{{?it.showOptionLabel}}\r\n<label data-bind=\"{{=it.dataBind('optionLabelContainerBindings')}}\">\r\n{{?}}\r\n	{{=it.getParentSubTpl()}}\r\n{{?it.showOptionLabel}}\r\n	<span data-bind=\"{{=it.dataBind('optionLabelBindings')}}\"></span>\r\n</label>\r\n{{?}}"}),define("Firebrick.ui/fields/Radio",["text!./Radio.html","../common/MultiplesBase"],function(e){"use strict";return Firebrick.define("Firebrick.ui.fields.Radio",{extend:"Firebrick.ui.common.MultiplesBase",sName:"fields.radio",type:"radio",dataType:"radiolist",subTpl:e,showOptionLabel:!0,options:!1,optionsPropValue:"value",optionsPropText:"text",optionLabelBindings:function(){var e=this;return e.inplaceEdit?{}:{text:"$data.text ? Firebrick.text($data.text) : ''"}},optionLabelContainerBindings:function(){var e=this;return{attr:{"for":e.inplaceEdit?e.parseBind(e.getId()):"itemId"}}},inputContainerBindings:function(){var e=this,t=e.callParent(arguments);return e.options&&!e.inplaceEdit&&(t.foreach=Firebrick.ui.helper.optionString(e)),t.attr=t.attr||{},t.attr.id=e.parseBind(e.getId()),t},bindings:function(){var e=this,t=e.callParent(arguments),n=e.value||null;return $.isPlainObject(n)&&n.value&&($.isFunction(n.value)?n=n.value():n=n.value),e.inplaceEdit&&(t.editable=e.selectedOptions||!1,t.editableOptions={optionsValue:e.parseBind(e.optionsPropValue),optionsText:e.parseBind(e.optionsPropText),options:Firebrick.ui.helper.optionString(e),type:"'checklist'"}),t.css["'form-control'"]=!1,e.inplaceEdit?t.attr.id=e.parseBind(e.getId()):(t.value="$data.value ? $data.value : $data",t.attr.id="itemId"),t.attr.name=e.parseBind(e.cleanString(e.type)+"-group-"+Firebrick.utils.uniqId()),n!==null?t.checked=n:t.checked="($data && $data.checked)",t.attr["'data-cmp-id'"]=e.parseBind(e.getId()),t}})}),define("Firebrick.ui/fields/Checkbox",["./Radio"],function(){"use strict";return Firebrick.define("Firebrick.ui.fields.Checkbox",{extend:"Firebrick.ui.fields.Radio",sName:"fields.checkbox",type:"checkbox",dataType:"checklist",bindings:function(){var e=this,t=e.callParent(arguments);return e.inplaceEdit&&(t.editable=e.selectedOptions||!1,t.editableOptions={optionsValue:e.parseBind(e.optionsPropValue),optionsText:e.parseBind(e.optionsPropText),options:e.options,type:e.parseBind(e.dataType)}),t}})}),define("text!Firebrick.ui/fields/combo/Group.html",[],function(){return'<div class="fb-ui-combo-group-item">\r\n	<span class="fb-ui-combo-group-title">{{=it[it._scope.groupLabelKey || it._scope.labelKey]}}</span>\r\n	<div class="fb-ui-combo-group-children">\r\n	</div>\r\n</div>'}),define("text!Firebrick.ui/fields/combo/Item.html",[],function(){return'<div class="fb-ui-combo-item">\r\n	<span>{{=it[it._scope.labelKey]}}</span>\r\n</div>'}),define("text!Firebrick.ui/fields/combo/Value.html",[],function(){return'<div class="fb-ui-combo-value-item" data-value="{{=it[it._scope.valueKey]}}">\r\n	<span>{{=it[it._scope.labelKey]}}</span>\r\n</div>'}),define("text!Firebrick.ui/fields/ComboBox.html",[],function(){return'<div id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}">\r\n	<div data-bind="{{=it.dataBind(\'valueBindings\')}}"></div>\r\n	<input type="text" data-bind="{{=it.dataBind(\'inputBindings\')}}" />\r\n	{{?it.showCaret}}\r\n		<span data-bind="{{=it.dataBind(\'singleSelectBindings\')}}"></span>\r\n	{{?}}\r\n	<span data-bind="{{=it.dataBind(\'clearIconBindings\')}}"></span>\r\n</div>\r\n<div data-for="{{=it.getId()}}" data-bind="{{=it.dataBind(\'resultBindings\')}}"></div>\r\n'}),define("Firebrick.ui.engines/Suggest",["jquery","firebrick"],function(e){"use strict";return Firebrick.define("Firebrick.ui.engines.Suggest",{store:null,mode:"local",_cache:null,searchKeys:null,prefetch:null,init:function(){var e=this;e._initCache()},_initCache:function(){var e=this;e._cache={}},clear:function(){var e=this;e._initCache()},filter:function(){return!0},query:function(e,t){var n=this,r=[],i;n.store&&(n.mode==="remote"?n.store.load({suggest:{query:e},callback:function(){r=n._query(e,n.store.toPlainObject()),t(r)}}):n.mode==="local"&&(n._cache[e]?(i=n._cache[e],r=n._cache[e].filter(function(){return n.filter.apply(n,arguments)})):(r=n._query(e,n.store.toPlainObject()),n._cache[e]=r),t(r)))},_query:function(t,n){var r=this,i=[],s=[],o,u,a,f=new RegExp(t,"i"),l;for(var c=0,h=n.length;c<h;c++){l=n[c];if(r.filter(l)&&l.exclude!==!0){if(l.suggestable!==!1){u=r._getSearchStrings(l);for(var p=0,d=u.length;p<d;p++){a=u[p],a=e.isFunction(a)?a():a;if(f.test(a)){i.push(l);break}}}e.isArray(l.children)&&(s=r._query(t,l.children),s.length&&(o=Firebrick.utils.copyover({},l),o.children=s,i.push(o)))}}return i},_getSearchStrings:function(t){var n=this,r=n.searchKeys,i=[],s;if(e.isPlainObject(t))if(r)if(e.isArray(r))for(var o=0,u=r.length;o<u;o++)s=r[o],t.hasOwnProperty(s)&&i.push(t[s]);else t.hasOwnProperty(r)&&i.push(t[r]);else for(var a in t)t.hasOwnProperty(a)&&i.push(t[a]);else i.push(t);return i}})}),define("Firebrick.ui/fields/ComboBox",["text!./ComboBox.html","jquery","text!./combo/Item.html","text!./combo/Group.html","text!./combo/Value.html","doT","./Input","Firebrick.ui.engines/Suggest","../display/Loader"],function(e,t,n,r,i,s){"use strict";return Firebrick.define("Firebrick.ui.fields.ComboBox",{extend:"Firebrick.ui.fields.Input",sName:"fields.combobox",subTpl:e,multiSelect:!1,maxItems:!1,forceSelect:!1,typeahead:1,store:null,itemTpl:n,groupTpl:r,valueTpl:i,_itemTemplate:null,_resultsVisible:!1,labelKey:"text",valueKey:"value",groupLabelKey:null,_valueEl:null,suggest:null,_engine:null,_timestamp:null,getValueEl:function(){var e=this;return e._valueEl||(e._valueEl=t("> .fb-ui-combo-values",e.getElement())),e._valueEl},_inputEl:null,getInputEl:function(){var e=this;return e._inputEl||(e._inputEl=t("> input.fb-ui-combo-input",e.getElement())),e._inputEl},showCaret:!0,_caretEl:null,getCaretEl:function(){var e=this;return e._caretEl||(e._caretEl=t("> .fb-ui-combo-select",e.getElement())),e._caretEl},_resultEl:null,getResultEl:function(){var e=this;return e._resultEl||(e._resultEl=e.getElement().next(".fb-ui-combo-result[data-for='"+e.getId()+"']")),e._resultEl},_clearIconEl:null,getClearIconEl:function(){var e=this;return e._clearIconEl||(e._cleanIconEl=t(".fb-ui-combo-clear-icon",e.getElement())),e._cleanIconEl},focus:function(){this.getInputEl().focus()},init:function(){var e=this;return e._itemTemplate={},e.on("rendered",function(){e._initSuggestionEngine(),e._initRendered()}),e.on("removeAll",function(){e.getClearIconEl().hide()}),e.callParent(arguments)},_initSuggestionEngine:function(){var e=this,t={store:e.store,filter:function(e){return!e._exclude}};t=Firebrick.utils.overwrite(t,e.suggest||{}),e._engine=Firebrick.create("Firebrick.ui.engines.Suggest",t)},_initRendered:function(){var e=this,n=e.getElement(),r=e.getInputEl(),i=e.getResultEl(),s=e.getClearIconEl();n.on({click:function(){return e._onClick.apply(e,arguments)}}),s.on({click:function(){return e._onClearIconClick.apply(e,arguments)}}),r.on("keydown keyup fb.update blur",function(){return e.resizeInput.apply(e,arguments)}),r.on({focus:function(){return e._onFocus.apply(e,arguments)},keydown:function(){return e._onKeyDown.apply(e,arguments)},keyup:function(){return e._onKeyUp.apply(e,arguments)},blur:function(){return e._onBlur.apply(e,arguments)}}),i.on("mousedown",".fb-ui-combo-item",function(){return e._onItemClick.apply(e,arguments)}),i.on("mouseover",".fb-ui-combo-item",function(){return e._onMouseOver.apply(e,arguments)}),e.multiSelect&&n.on("click",".fb-ui-combo-value-item",function(){return e.removeItem(t(this))}),e.on({expand:function(){var e=this,n=e.getElement(),r=e.getResultEl(),i=e.getActiveItem(),s;n.addClass("open"),e.forceSelect&&!i.length&&(s=t(".fb-ui-combo-item:first-child",r),s.length&&e.markActive(s))},collapse:function(){e.resultDefaults()}})},resultDefaults:function(){var e=this,t=e.getElement();t.removeClass("open")},_onFocus:function(){var e=this;e.showResults(),e.getValue().length&&e.getClearIconEl().show()},_onClick:function(){var e=this,t=e.getInputEl();t.focus()},_onClearIconClick:function(){this.removeAll()},_onItemClick:function(){var e=this;e.selectActive()},_onMouseOver:function(e){var n=this,r="fb-ui-combo-item",i="."+r,s=t(e.target);s.hasClass(r)||(s=s.parent(i)),n.markActive(s)},_onKeyDown:function(e){var t=this,n=e.which,r=Firebrick.ui.KeyEvents,i=t.getInputEl();n===r.DOM_VK_RETURN?e.preventDefault():n===r.DOM_VK_BACK_SPACE&&(i.val()||t.removeLastItem()),t._arrowKey(n),t._timestamp=(new Date).getTime()},_onKeyUp:function(e){var t=this,n=e.which,r=Firebrick.ui.KeyEvents,i=t.getInputEl();t.actionKey(n)?n===r.DOM_VK_RETURN?(e.preventDefault(),t.selectActive()):n===r.DOM_VK_DOWN&&(i.val()||t._resultsVisible||t.showResults()):i.val().trim()?Firebrick.delay(function(){var e=(new Date).getTime();e-t._timestamp>=300&&(t._timestamp=e,t.showResults())},301):t.hideResults()},_onBlur:function(){var e=this;e.forceSelect&&(e.getValue().length||e.selectActive()),Firebrick.delay(function(){e.getClearIconEl().hide()},200),e.hideResults()},reset:function(){var e=this;e.hideResults(),e.clearInput()},resizeInput:function(){var e=this,t=e.getInputEl(),n=t.width(),r=e._measureWidth(t)+8;r!==n&&t.width(r)},_measureWidth:function(e){var n=t("<tmp>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e.val()).appendTo("body"),r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"],i,s={},o;for(var u=0,a=r.length;u<a;u++)i=r[u],s[i]=e.css(i);return n.css(s),o=n.width(),n.remove(),o},actionKey:function(e){var t=Firebrick.ui.KeyEvents;return e===t.DOM_VK_DOWN||e===t.DOM_VK_UP||e===t.DOM_VK_RETURN?!0:!1},getActiveItem:function(){var e=this,n=t(".fb-ui-combo-item.active",e.getResultEl());return n},markActive:function(e){var t=this,n=t.getActiveItem();e.length&&(n.removeClass("active"),e.addClass("active"),e.focus())},selectActive:function(e){var t=this,n=e||t.getActiveItem(),r={},i=[];n.length&&(r=n.prop("data-value"),r._exclude=!0,i.push(r),t.setValue(i),i.length&&t.getClearIconEl().show())},removeAll:function(){var e=this,n=e.getValue(),r=t(".fb-ui-combo-value-item",e.getValueEl());for(var i=0,s=r.length;i<s;i++)t(r[0]).prop("data-value")._exclude=!1;r.remove(),e._checkChange(e.getValue(),n),e.fireEvent("removeAll")},removeItem:function(e){var t=this,n=t.getValue(),r=e.prop("data-value");r._exclude=!1,e.remove(),t._checkChange(t.getValue(),n),t.on("removeItem")},removeLastItem:function(){var e=this,n=t(".fb-ui-combo-value-item",e.getValueEl()),r=n.last();if(n.length===1&&e.forceSelect)return;r.length&&e.removeItem(r)},clearInput:function(){var e=this,t=e.getInputEl();t.val("")},_arrowKey:function(e){var n=this,r=Firebrick.ui.KeyEvents,i=".fb-ui-combo-item",s=".fb-ui-combo-group-item",o=n.getResultEl(),u=t(i+".active",o),a;if(n._resultsVisible)if(e===r.DOM_VK_DOWN||e===r.DOM_VK_UP)return u.length?(e===r.DOM_VK_DOWN?(a=u.next(),a.length||(a=u.closest(s).next())):(a=u.prev(),a.length||(a=u.closest(s).prev())),a.is(s)&&(e===r.DOM_VK_DOWN?a=a.find(i).first():a=a.find(i).last()),n.markActive(a),n._scrollOnKey(e,a,o)):n.markActive(o.find(".fb-ui-combo-item").first()),!0;return!1},getSelection:function(){var e=this,n=e.getResultEl();if(e._resultsVisible)return t(".fb-ui-combo-item.active",n)},_scrollOnKey:function(e,t,n){var r,i,s=Firebrick.ui.KeyEvents,o=n.offset().top,u=n.height(),a=o+u,f=null;t.length&&(e===s.DOM_VK_DOWN?(i=t.offset().top+t.outerHeight(),i>a&&(f=n.scrollTop()+i-o-u)):(r=t.offset().top,r<o&&(f=r-o+n.scrollTop())),f!==null&&n.scrollTop(f))},search:function(e,t){var n=this;return n._engine.query(e,t),n},showResults:function(){var e=this,t=e.getElement(),n=e.getInputEl(),r=e.getResultEl(),i=n.val().trim(),s,o;i.length>=e.typeahead&&(r.empty(),r.css({top:t.offset().top+t.outerHeight(),width:t.outerWidth()}),r.show(),e._resultsVisible=!0,e._engine.mode!=="local"&&(s=Firebrick.create("Firebrick.ui.display.Loader",{target:r})),Firebrick.delay(function(){e.search(i,function(t){var n=[];s&&s.destroy();if(t){for(var i=0,u=t.length;i<u;i++)o=t[i],o.index=i,n.push(e.renderItem(o));r.empty(),r.append(n),r.scrollTop(0),e.fireEvent("expand")}})},10))},hideResults:function(){var e=this,t=e.getResultEl();e._resultsVisible&&(e._resultsVisible=!1,t.hide(),e.fireEvent("collapse"))},renderChildren:function(e,t){var n=this,r=[];if(e.children)for(var i=0,s=e.children.length;i<s;i++)r.push(n.renderItem(e.children[i],t));return r},renderItem:function(e,n){var r=this,i=e.children?"groupTpl":"itemTpl",s;return s=r._renderItem(i,e,n),e.children&&t(".fb-ui-combo-group-children",s).html(r.renderChildren(e,n)),s},renderValueItem:function(e,t){return this._renderItem("valueTpl",e,t)},_renderItem:function(e,n,r){var i=this,o=t.isFunction(i[e])?i[e]():i[e];return n._scope=n._scope||r||i,i._itemTemplate[e]||(i._itemTemplate[e]=s.template(o)),t(i._itemTemplate[e](n)).prop("data-value",n)},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'fb-ui-combobox'"]=!0,e.multiSelect?t.css.multiple=!0:t.css.single=!0,t},valueBindings:function(){var e={css:{"'fb-ui-combo-values'":!0}};return e},inputBindings:function(){var e={css:{},attr:{autocomplete:!0,tabindex:!0}};return e.css["'fb-ui-combo-input'"]=!0,e},clearIconBindings:function(){var e={css:{glyphicon:!0,"'glyphicon-remove-circle'":!0,"'fb-ui-combo-clear-icon'":!0}};return e},singleSelectBindings:function(){var e=this,t={css:{"'fb-ui-combo-select'":!0,caret:e.typeahead===0?e.showCaret:!1}};return t},resultBindings:function(){var e={css:{"'fb-ui-combo-result'":!0}};return e},_hasChange:function(e,t){return!Firebrick.utils.compareArrays(e,t)},getValue:function(){var e=this,n=t("> .fb-ui-combo-value-item",e.getValueEl()),r=[],i=e.valueKey,s;for(var o=0,u=n.length;o<u;o++)s=t(n[o]).prop("data-value"),s=i?s[i]:s,r.push(s);return r},setValue:function(){var e=this,n=e.getValueEl();if(e.maxItems!==!1&&t(".fb-ui-combo-value-item",n).length===e.maxItems)return;return e.callParent(arguments)},_setValue:function(e){var t=this,n=t.getValueEl(),r=[];if(e.length){for(var i=0,s=e.length;i<s;i++)r.push(t.renderValueItem(e[i]));t.multiSelect?n.append(r):n.html(r),t.reset()}return t}})}),define("Firebrick.ui/fields/DatePicker",["./Input","bootstrap-datepicker"],function(){"use strict";return Firebrick.define("Firebrick.ui.fields.DatePicker",{extend:"Firebrick.ui.fields.Input",sName:"fields.datepicker",inputAddon:!0,dateFormat:"dd/mm/yyyy",weekStart:1,datePickerOptions:function(){var e=this;return{autoclose:!0,weekStart:e.weekStart,format:e.dateFormat}},iconClass:"glyphicon-calendar",clickableIcon:!0,init:function(){var e=this;return e.on("rendered",function(){var t=e.getElement(),n,r;t.length&&t.datepicker(e.datePickerOptions()),e.inputAddon&&e.clickableIcon&&(n=t.siblings("."+e.inputAddonClass),n.length&&(r=n.find("."+e.iconClass),r.length&&(r.css("cursor","pointer"),r.on("click",function(){var e="fb-date-open";t.prop(e)===!0?(t.datepicker("hide"),t.prop(e,!1)):(t.prop(e,!0),t.focus())}))))}),e.callParent(arguments)},value:function(){var e=new Date;return"'"+("0"+e.getDate()).slice(-2)+"/"+e.getMonth()+1+"/"+e.getFullYear()+"'"}()})}),define("text!Firebrick.ui/fields/Display.html",[],function(){return'{{?it.inplaceEdit}}\r\n	<a id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}"></a>\r\n{{?? true }}\r\n	<p id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}"></p>\r\n{{?}}'}),define("Firebrick.ui/fields/Display",["text!./Display.html","./Input"],function(e){"use strict";return Firebrick.define("Firebrick.ui.fields.Display",{extend:"Firebrick.ui.fields.Input",sName:"fields.display",formControlClass:"form-control-static",subTpl:e,bindings:function(){var e=this,t=e.callParent(),n=t.value;return delete t.attr.readonly,delete t.attr.disabled,delete t.attr.type,delete t.attr.placeholder,t.text=n,t}})}),define("Firebrick.ui/fields/Email",["./Input"],function(){"use strict";return Firebrick.define("Firebrick.ui.fields.Email",{extend:"Firebrick.ui.fields.Input",sName:"fields.email",type:"email",dataType:"text"})}),define("Firebrick.ui/fields/File",["./Input"],function(){"use strict";return Firebrick.define("Firebrick.ui.fields.File",{extend:"Firebrick.ui.fields.Input",sName:"fields.file",type:"file",formControlClass:!1})}),define("Firebrick.ui/fields/Hidden",["./Input"],function(){"use strict";return Firebrick.define("Firebrick.ui.fields.Hidden",{extend:"fields.input",sName:"fields.hidden",containerBindings:function(){var e=this,t=e.callParent(arguments);return t.css["'fb-ui-hidden-field'"]=!0,t}})}),define("text!Firebrick.ui/fields/TextArea.html",[],function(){return'{{?it.inplaceEdit}}\r\n	<a data-bind="{{=it.dataBind()}}"></a>\r\n{{?? true }}\r\n	<textarea id="{{=it.getId()}}" rows="{{=it.rows}}" data-bind="{{=it.dataBind()}}"></textarea>\r\n{{?}}'}),define("Firebrick.ui/fields/TextArea",["text!./TextArea.html","./Input"],function(e){"use strict";return Firebrick.define("Firebrick.ui.fields.TextArea",{extend:"Firebrick.ui.fields.Input",sName:"fields.textarea",rows:5,subTpl:e,dataType:"textarea"})}),define("Firebrick.ui/fields/HtmlEditor",["./TextArea","summernote"],function(){"use strict";return Firebrick.define("Firebrick.ui.fields.HtmlEditor",{extend:"Firebrick.ui.fields.TextArea",sName:"fields.htmleditor",editorConf:null,getEditorConfig:function(){var e=this,t=e.editorConf||{},n={height:200};return Firebrick.utils.overwrite(n,t)},_setValue:function(e){var t=this;return t.getElement().code(e)},getValue:function(){var e=this;return e.getElement().code()},init:function(){var e=this;return e.inplaceEdit||(e.on("rendered",function(){e._initEditor()}),e.on("destroy",function(){e.getElement().destroy()})),e.callParent(arguments)},_initEditor:function(){var e=this,t=e.getElement();t.summernote(e.getEditorConfig())}})}),define("Firebrick.ui/fields/Password",["./Input"],function(){"use strict";return Firebrick.define("Firebrick.ui.fields.Password",{extend:"Firebrick.ui.fields.Input",sName:"fields.password",type:"password"})}),define("text!Firebrick.ui/fields/SelectBox.html",[],function(){return'{{?it.inplaceEdit}}\r\n	<a id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}"></a>\r\n{{?? true }}\r\n	<select id="{{=it.getId()}}" data-bind="{{=it.dataBind()}}"></select>\r\n{{?}}'}),define("Firebrick.ui/fields/SelectBox",["text!./SelectBox.html","jquery","knockout","./Input"],function(e,t,n){"use strict";return Firebrick.define("Firebrick.ui.fields.SelectBox",{extend:"Firebrick.ui.fields.Input",sName:"fields.selectbox",multiSelect:!1,subTpl:e,options:!1,type:"select",optionsValue:"value",optionsText:"text",bindings:function(){var e=this,t=e.callParent(arguments);return e.inplaceEdit||(t.options=Firebrick.ui.helper.optionString(e),e.multiSelect?t.selectedOptions=e.value:t.value=e.value,t.optionsText=e.parseBind(e.optionsText),t.optionsValue=e.parseBind(e.optionsValue),t.attr.multiple=e.multiSelect),t},_getInplaceEditText:function(e){var r=this,i=r.getElement(),s=i?r.getValue():r.value,o=r.options,u=r.optionsValue,a=r.optionsText,f="",l,c;if(s){t.isFunction(o)?o=o():typeof o=="string"&&(o=n.unwrap(e.hasOwnProperty(o)?e[o]:e)),t.isArray(o)||(o=[o]);for(var h=0,p=o.length;h<p;h++){l=o[h];if(t.isPlainObject(l)){c=n.unwrap(l[u]);if(c===s.replace("'","")){f=n.unwrap(l[a]);break}}}}else f=Firebrick.text(r.inplaceEditEmptyText);return f}})}),define("Firebrick.ui/menu/ContextMenu",["jquery","./Menu","../common/mixins/Items"],function(e){"use strict";return Firebrick.define("Firebrick.ui.menu.ContextMenu",{extend:"Firebrick.ui.menu.Menu",mixins:"Firebrick.ui.common.mixins.Items",sName:"menu.contextmenu",target:"body",enclosedBind:!0,appendTarget:!0,contextMenuEvent:null,init:function(){var e=this;return e.on("rendered",function(){e._initContext(),e.position()}),e.callParent(arguments)},position:function(){var t=this,n=e("> ul",t.getElement()),r=t.contextMenuEvent;n.css({position:"absolute","z-index":"10000",top:r.clientY,left:r.clientX,display:"block"})},_initContext:function(){var t=this,n=function(r){var i=e(r.target),s=t.getElement();if(!s.is(i)||s.has(i).length)t.destroy(),e(document).off("click",n)};e(document).on("click",n)},bindings:function(){var e=this,t=e.callParent(arguments);return t.css["'fb-ui-contextmenu'"]=!0,t}})}),define("Firebrick.ui/nav/Breadcrumbs",["../display/List"],function(){"use strict";return Firebrick.define("Firebrick.ui.nav.Breadcrumbs",{extend:"Firebrick.ui.display.List",sName:"nav.breadcrumbs",listType:"ol",linkedList:!0,bindings:function(){var e=this,t=e.callParent(arguments);return t.css.breadcrumb=!0,t}})}),define("Firebrick.ui/nav/Pagination",["../display/List"],function(){"use strict";return Firebrick.define("Firebrick.ui.nav.Pagination",{extend:"Firebrick.ui.display.List",sName:"nav.pagination",preNode:!1,linkedList:!0,paginationSize:null,bindings:function(){var e=this,t=e.callParent(arguments);return t.css.pagination=!0,e.paginationSize&&(t.css[e.parseBind("pagination-"+e.paginationSize)]=!0),t},setActive:function(e){var t=this,n=t.getElement(),r=t.getActive(),i=$("a[data-value='"+e+"']",n).parent("li");r.removeClass("active"),i.addClass("active")},getActive:function(){var e=this,t=e.getElement();return $("li.active",t)}})}),define("Firebrick.ui/table/plugins/EditableTable",["jquery"],function(e){"use strict";var t=Firebrick.define("Firebrick.ui.table.plugins.EditableTable",{indexAttr:"data-tt-id",rowAttr:"fb-ui-row-id",editMarker:"fb-ui-cell-editing",currentEdit:null,hideCellClass:"fb-ui-hide-me",rowLoadClass:"fb-ui-edit-loading",editFields:function(e,t,n){var r=this,i=[],s=[],o={},u=e.is("tr"),a=u?e:e.closest("tr"),f,l,c;if(n)for(var h=0,p=n.length;h<p;h++)f=u?h:e.attr(r.indexAttr),c=n[h],c.editable!==!1&&(l=r.getFieldConfiguration(t,a,e,c,f,s,o),l&&i.push(l));return{deps:s,items:i}},getFieldConfiguration:function(t,n,r,i,s,o,u){var a=this,f=i.editConf&&i.editConf.field?i.editConf.field:{},l,c=n.prop(t.propDataName),h=Firebrick.utils.getDeepProperty(i.mapping,c);if(c.children&&i.editConf&&i.editConf.parentsEditable===!1)return;if(h===null||h===undefined)return;if(i.renderer&&!i.type)return;return f.sName?l=Firebrick.classes.getSNameConfig(f.sName).path:(f.sName=i.type==="checkbox"?"fields.checkbox":"fields.input",l=Firebrick.classes.getSNameConfig(f.sName).path),u[l]||(u[l]=!0,o.push(l)),f.label=f.label||(i.text?i.text:i),f.init=a._initFunction(s),f.value=e.isFunction(h)?h():h,typeof f.value=="string"&&(f.value="'"+f.value+"'"),f},removeCurrent:function(e){var t=this;e.removeClass(t.editMarker),t.currentEdit=null},cancelChanges:function(e,t){var n=this;n.resetCell(e,t)},resetCell:function(t,n,r){var i=this,s=t.tdSpanClass,o=e("> [fb-view-bind]",n);i.removeCurrent(n),o.length&&o.remove(),n.children().removeClass(i.hideCellClass),r&&e("> span."+s,n).html(r)},parseValue:function(e,t){return e==="number"?parseInt(t):e==="float"?parseFloat(t):t},makeChanges:function(t,n){var r=this,i=t.columns,s=n.find("input"),o,u,a,f,l=t.editType,c=n.is("tr"),h=c?n:n.closest("tr"),p;t.fireEvent("beforeChanges",arguments);if(s.length)for(var d=0,v=s.length;d<v;d++){o=e(s[d]);if(o.attr("type")==="radio"||o.attr("type")==="checkbox"){if(!o.is(":checked"))continue;p=Firebrick.getById(o.attr("data-cmp-id"))._prop}else p=Firebrick.getById(o.attr("id"))._prop;a=Firebrick.utils.getDeepProperty(i[p].mapping,h.prop(t.propDataName)),f=a();if(a){u=o.val(),u=r.parseValue(i[p].type,u);if(l==="cell"&&u===f)return r.cancelChanges(t,n);a.value?(a.value(u),c||r.resetCell(t,n)):u!==f&&(a(u),c||r.resetCell(t,n,u))}}t.fireEvent("afterChanges",arguments)},buildModal:function(t,n,r){var i=this,s=t.editModalConfig||{},o={title:s.modalTitle||"Edit",target:r,items:[{sName:"containers.form",preSubmit:function(){var n=this;return i.makeChanges(t,r),e(n._parent.getElement()).modal("hide"),!1},items:n.items}]};s._showEditButtons!==!1&&(o.footerItems=[{sName:"button.button",closeModal:!0,text:s.buttonUpdateText||"Update",handler:function(){i.makeChanges(t,r)}}]),s=Firebrick.utils.overwrite(o,s),n.deps.push(Firebrick.classes.getSNameConfig("containers.modal").path),n.deps.push(Firebrick.classes.getSNameConfig("containers.form").path),n.deps.push(Firebrick.classes.getSNameConfig("button.button").path),i.tableLoadMask(t.getElement()),require(n.deps,function(){Firebrick.create("Firebrick.ui.containers.Modal",s),i.removeTableLoadMask(t.getElement())})},tableLoadMask:function(t){var n=this,r=e("tbody",t),i=e("<div class='fb-ui-load-mask'></div>");r.addClass(n.rowLoadClass),n.appendLoadIcon(i),r.append(i)},removeTableLoadMask:function(t){var n=this,r=e("tbody",t);r.removeClass(n.rowLoadClass),e("> div.fb-ui-load-mask",r).remove()},appendLoadIcon:function(e){e.append("<span class='fb-ui-load-block glyphicon glyphicon-refresh glyphicon-refresh-animate'></span>")},removeLoadIcon:function(t){e("> .fb-ui-load-block",t).remove()},buildCellEditor:function(e,t,n){var r=this;t.deps.push(Firebrick.classes.getSNameConfig("containers.box").path),r.appendLoadIcon(n),require(t.deps,function(){var i=t.items[0];n.children().addClass(r.hideCellClass),i.label=!1,i.inputWidth=12,i.inputContainerBindings=r.cellEditInputContainerBindings(),i.init=r._cellEditInit(e,n),Firebrick.create("containers.box",{target:n,appendTarget:!0,enclosedBind:!0,items:[i]}),r.removeLoadIcon(n)})},initEditingTR:function(e,t,n){var r=this,i=r.editFields(n,e,e.columns);i.items.length&&r.buildModal(e,i,n)},initEditingTD:function(t,n,r){var i=this,s=i.currentEdit,o=r.attr(i.indexAttr),u,a;if(i.currentEdit){if(i.currentEdit.is(r))return;i.makeChanges(t,s)}i.currentEdit=r,a=function(n){var r=e(n.target),s=i.currentEdit;s?!s.is(r)&&!s.has(r).length&&(i.makeChanges(t,s),e(document).off("click",a)):e(document).off("click",a)},e(document).on("click",a),r.hasClass(i.editMarker)||(u=i.editFields(r,t,[t.columns[o]]),u.items.length&&(r.addClass(i.editMarker),i.buildCellEditor(t,u,r)))},cellEditInputContainerBindings:function(){return function(){var e=this,t=e.callParent(arguments);return t.css["'col-md-10'"]=!0,t.css["'col-lg-8'"]=!0,t}},_defaultRenderAction:function(e,t){e._prop=t},_initFunction:function(e){var t=this;return function(){var n=this;return n.on("rendered",function(){t._defaultRenderAction(n,e)}),n.callParent(arguments)}},_cellEditInit:function(e,t){var n=this;return function(){var r=this,i=r.sName;return r.on("rendered",function(){var s=r.getElement(),o,u;n._defaultRenderAction(r,t.attr(n.indexAttr)),s.on("keydown",function(r){var i=r.which;i===13?n.makeChanges(e,t):i===27&&n.cancelChanges(e,t)}),i!=="fields.input"?(o=s.is("input")?s:s.find("input"),u=function(){n.makeChanges(e,t),o.off("change",u)},o.on("change",u)):s.focus()}),r.callParent(arguments)}}});return e.fn.EditableTable=e.fn.EditableTable||function(){var t=e(this),n,r=Firebrick.create("Firebrick.ui.table.plugins.EditableTable"),i=Firebrick.getById(t.attr("id")),s=i.editType,o,u,a;t.addClass("fb-ui-editabletable");if(s==="row")t.addClass("fb-ui-row-editing"),t.attr("unselectable","on"),n=e("tbody tr",t),o=function(){var n=e(this);n.is("tr")&&r.initEditingTR(i,t,n)};else if(s==="cell"){if(!i.datatable){u=e("> thead th",t);for(var f=0,l=u.length;f<l;f++)a=e(u[f]),a.css("width",a.width())}n=e("tbody td",t),o=function(){var n=e(this);n.is("td")&&r.initEditingTD(i,t,n)}}n.on("dblclick",o)},t}),define("text!Firebrick.ui/table/Table.html",[],function(){return'<div data-bind="{{=it.dataBind(\'containerBindings\')}}">\r\n	<table id={{=it.getId()}} data-bind="{{=it.dataBind()}}">\r\n	{{?it.treetable && it.showOptions}}\r\n		<caption data-bind="{{=it.dataBind(\'captionBindings\')}}">\r\n			<a data-bind="{{=it.dataBind(\'expandBindings\')}}"></a>\r\n			<a data-bind="{{=it.dataBind(\'collapseBindings\')}}"></a>\r\n		</caption>\r\n	{{?}}\r\n	{{?it.showHeadings}}\r\n		<thead data-bind="{{=it.dataBind(\'theadBindings\')}}">\r\n	      <tr data-bind="{{=it.dataBind(\'theadTRBindings\')}}">\r\n	        <th data-bind="{{=it.dataBind(\'theadTRTDBindings\')}}"></th>\r\n	      </tr>\r\n	    </thead>\r\n    {{?}}\r\n    {{?it.showRows}}\r\n	    <tbody data-bind="{{=it.dataBind(\'tbodyBindings\')}}">\r\n	      <!-- ko {{=it.dataBind(\'tbodyTRTemplateBindings\')}} --><!-- /ko -->\r\n	    </tbody>\r\n    {{?}}\r\n	</table>\r\n	\r\n	<script type="text/html" id="{{=it._getTplId()}}">\r\n		<tr data-bind="{{=it.dataBind(\'tbodyTRBindings\')}}">\r\n			<td data-bind="{{=it.dataBind(\'tbodyTRTDBindings\')}}">\r\n				<span data-bind="{{=it.dataBind(\'tbodyTRTDSpanBindings\')}}"></span>\r\n			</td>\r\n		</tr>\r\n		{{?it.treetable}}\r\n		<!-- ko {{=it.dataBind(\'tbodyTRChildrenTemplateBindings\')}} --><!-- /ko -->\r\n		{{?}}\r\n	</script>\r\n	\r\n</div>'}),define("text!Firebrick.ui/table/tpls/checkbox.html",[],function(){return'<input type="checkbox" data-bind="{{=it.scope.dataBind(\'checkboxBindings\', it.value)}}" />'}),define("Firebrick.ui/table/Table",["knockout","knockout-mapping","jquery","doT","text!./Table.html","text!./tpls/checkbox.html","../common/Base","datatables","jquery-treetable","responsive-tables-js","./plugins/EditableTable"],function(e,t,n,r,i,s){"use strict";return e.bindingHandlers.trRenderer||(e.virtualElements.allowedBindings.trRenderer=!0,e.bindingHandlers.trRenderer={init:function(e,t,r,i){var s=t(),o=s.propDataName,u=n(e);u.prop(o,i)}}),Firebrick.define("Firebrick.ui.table.Table",{extend:"Firebrick.ui.common.Base",sName:"table.table",tpl:i,responsiveClass:!0,responsive:!0,editType:"row",columns:null,tdSpanClass:"fb-ui-tablecell-data",tableStriped:!0,tableHover:!0,tableCondensed:!1,tableBordered:!1,showHeadings:!0,showRows:!0,editabletable:!1,propDataName:"fb-ui-tr-data",datatable:!1,_datatable:{},expandable:!0,expanded:!1,showCaption:!0,expandText:"Expand",collapseText:"Collapse",showOptions:!0,editModalConfig:null,_itemId:0,treetable:!1,_treetable:function(){var e=this;return{expandable:e.expandable,initialState:e.expanded?"expanded":"collapsed",expanderTemplate:'<a class="glyphicon">&nbsp;</a>'}},_allCheckedObservableProp:null,init:function(){var e=this;e.data=t.fromJS(e.data),e.on("rendered",function(){var t=e.getId(),r=e.getElement();e.datatable&&!e.treetable&&(e._preTableConfig("datatable"),r.dataTable(e.datatable)),e.editabletable&&r.EditableTable(),e.treetable&&(e.showOptions&&(n("a#fb-expand-"+t).on("click",e.generateOnclick("expandAll")),n("a#fb-collapse-"+t).on("click",e.generateOnclick("collapseAll"))),e._preTableConfig("treetable"),r.treetable(e.treetable)),e.responsive&&window.responsiveTables&&window.responsiveTables.update(t)}),e.callParent(arguments)},__preTableConfig:function(e){var t=this,r=t[e];return!n.isPlainObject(r)&&!n.isFunction(r)&&(r={}),n.isFunction(t[e])&&(r=r.apply(t)),t[e]=r,t},_preTableConfig:function(e){var t=this,n="_"+e;return t.__preTableConfig(e),t.__preTableConfig(n),t[e]=Firebrick.utils.copyover(t[e],t[n]),t},containerBindings:function(){var e=this;return{css:{"'responsive'":e.responsiveClass}}},_getData:function(){var e=this;return e.store&&e.store.isStore?"Firebrick.getById('"+e.getId()+"').getData()":{}},bindings:function(){var e=this,t=e.callParent(arguments);return t["with"]=e._getData(),t.css.table=!0,t.css["'table-striped'"]=e.tableStriped,t.css["'table-hover'"]=e.tableHover,t.css["'table-condensed'"]=e.tableCondensed,t.css["'table-bordered'"]=e.tableBordered,t.css["'responsive'"]=e.responsive,t},theadBindings:function(){var e=this,t={"if":!1};return e.columns&&(t["if"]=!0),t},theadTRBindings:function(){return{foreach:"Firebrick.getById('"+this.getId()+"').columns"}},theadTRTDBindings:function(){var e=this;return{htmlWithBinding:"Firebrick.getById('"+e.getId()+"')._thRenderer($data, $context, $parent, $root)"}},_thRenderer:function(e){var t=this,n=e.type,r=e.text?e.text:e;return n==="checkbox"&&(r='<input type="checkbox" data-bind="'+t.dataBind("thCheckboxBindings")+'" /> '+r),r},tbodyBindings:function(){return{}},tbodyTRTemplateBindings:function(){var e=this;return{template:{name:e.parseBind(e._getTplId()),foreach:"$data"}}},tbodyTRBindings:function(){var e=this;return{foreach:"Firebrick.getById('"+e.getId()+"').columns",attr:{"'data-tt-id'":"Firebrick.getById('"+e.getId()+"')._getItemId( $data )","'data-tt-parent-id'":"$parent._ttId"},css:{group:"$data.children ? true : false"},trRenderer:"Firebrick.getById('"+e.getId()+"')"}},_getItemId:function(e){var t=this;if(n.isPlainObject(e))return e.hasOwnProperty("_ttId")||(e._ttId=t._itemId++),e._ttId;return},tbodyTRTDBindings:function(){return{attr:{"'data-tt-id'":"$index","'fb-ui-row-id'":"$parentContext.$parent._ttId"}}},tbodyTRTDSpanBindings:function(){var e=this,t={css:{},allowBindings:!0,htmlWithBinding:"Firebrick.getById('"+e.getId()+"')._tdRenderer($data, $context, $parentContext, $root, $element)"};return t.css[e.parseBind(e.tdSpanClass)]=!0,t},_tdRenderer:function(e,t,r,i,s){var o=this,u=Firebrick.utils.getDeepProperty(e.mapping,r.$data),a=o.b(u),f=e.type,l="fb-ui-col-"+t.$index();return e._colId||(e._colId=l),n(s).addClass(l),f&&(f==="number"?a=parseInt(a):f==="float"?a=parseFloat(a):f==="checkbox"&&u!==null&&(typeof a=="string"&&(a=a==="true"?!0:!1),a=o.checkboxRenderer(e,u,a,t,r,i,s))),e.renderer&&(a=e.renderer(e,u,a,t,r,i,s)),a},thCheckboxBindings:function(){var e=this,t={};return t.checked="Firebrick.getById('"+e.getId()+"')._allCheckedObservable($context)",t},_allCheckedObservable:function(t){var r=this,i=t.$data,s=r.getElement();return r._allCheckedObservableProp=r._allCheckedObservableProp||e.computed({read:function(){var e=i.mapping,t=r.getData(),s=function(t){var r,i;r=Firebrick.utils.getDeepProperty(e,t);if(n.isFunction(r)&&!r())return!1;if(t.children){i=t.children();for(var o=0,u=i.length;o<u;o++)return s(i[o])}return!0};if(t&&n.isFunction(t)){t=t();for(var o=0,u=t.length;o<u;o++)return s(t[o])}return!1},write:function(e){var t=n("tbody tr",s),o,u=i.mapping;for(var a=0,f=t.length;a<f;a++)o=Firebrick.utils.getDeepProperty(u,n(t[a]).prop(r.propDataName)),n.isFunction(o)&&o(e)}}),r._allCheckedObservableProp},checkboxRenderer:function(e,t,n){var i=this;return r.template(s)({scope:i,value:n})},checkboxBindings:function(){return{checked:"Firebrick.utils.getDeepProperty( $data.mapping, $parent )"}},_getTplId:function(){return"fb-ui-tpl-"+this.getId()},tbodyTRChildrenTemplateBindings:function(){var e=this;return{template:{name:e.parseBind(e._getTplId()),foreach:"$data.children"}}},captionBindings:function(){var e=this;return{show:e.showCaption}},generateOnclick:function(e){var t=this;return function(){return t.getElement().treetable(e),!1}},expandBindings:function(){var e=this;return{text:e.textBind(e.expandText),attr:{id:e.parseBind("fb-expand-"+e.getId()),href:"''"}}},collapseBindings:function(){var e=this;return{text:e.textBind(e.collapseText),attr:{id:e.parseBind("fb-collapse-"+e.getId()),href:"''"}}}})}),define("Firebrick.ui/table/TreeTable",["./Table","jquery-treetable"],function(){"use strict";return Firebrick.define("Firebrick.ui.table.TreeTable",{extend:"Firebrick.ui.table.Table",sName:"table.treetable",store:!1,treetable:!0})});