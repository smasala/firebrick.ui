<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src\components\table\Table.js - Firebrick UI API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..\fbui_small.png" title="Firebrick UI API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.20.17</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/components.button.Button.html">components.button.Button</a></li>
            
                <li><a href="../classes/components.button.ButtonGroup.html">components.button.ButtonGroup</a></li>
            
                <li><a href="../classes/components.button.components.common.mixins.Items.html">components.button.components.common.mixins.Items</a></li>
            
                <li><a href="../classes/components.button.components.common.MultiplesBase.html">components.button.components.common.MultiplesBase</a></li>
            
                <li><a href="../classes/components.button.components.menu.Menu.html">components.button.components.menu.Menu</a></li>
            
                <li><a href="../classes/components.common.components.fields.Input.html">components.common.components.fields.Input</a></li>
            
                <li><a href="../classes/components.common.mixins.components.button.ButtonGroupBase.html">components.common.mixins.components.button.ButtonGroupBase</a></li>
            
                <li><a href="../classes/components.common.mixins.components.button.ToggleButton.html">components.common.mixins.components.button.ToggleButton</a></li>
            
                <li><a href="../classes/components.common.mixins.components.common.Base.html">components.common.mixins.components.common.Base</a></li>
            
                <li><a href="../classes/components.common.mixins.components.containers.Base.html">components.common.mixins.components.containers.Base</a></li>
            
                <li><a href="../classes/components.common.mixins.components.nav.Toolbar.html">components.common.mixins.components.nav.Toolbar</a></li>
            
                <li><a href="../classes/components.common.view.Base.html">components.common.view.Base</a></li>
            
                <li><a href="../classes/components.containers.border.Pane.html">components.containers.border.Pane</a></li>
            
                <li><a href="../classes/components.containers.border.plugins.Draggable.html">components.containers.border.plugins.Draggable</a></li>
            
                <li><a href="../classes/components.containers.BorderLayout.html">components.containers.BorderLayout</a></li>
            
                <li><a href="../classes/components.containers.components.common.mixins.Column.html">components.containers.components.common.mixins.Column</a></li>
            
                <li><a href="../classes/components.containers.components.common.mixins.Toolbars.html">components.containers.components.common.mixins.Toolbars</a></li>
            
                <li><a href="../classes/components.containers.components.fields.Base.html">components.containers.components.fields.Base</a></li>
            
                <li><a href="../classes/components.containers.Fieldset.html">components.containers.Fieldset</a></li>
            
                <li><a href="../classes/components.containers.Form.html">components.containers.Form</a></li>
            
                <li><a href="../classes/components.containers.FormPanel.html">components.containers.FormPanel</a></li>
            
                <li><a href="../classes/components.containers.GridColumn.html">components.containers.GridColumn</a></li>
            
                <li><a href="../classes/components.containers.GridRow.html">components.containers.GridRow</a></li>
            
                <li><a href="../classes/components.containers.Panel.html">components.containers.Panel</a></li>
            
                <li><a href="../classes/components.containers.tab.components.containers.Modal.html">components.containers.tab.components.containers.Modal</a></li>
            
                <li><a href="../classes/components.containers.tab.Pane.html">components.containers.tab.Pane</a></li>
            
                <li><a href="../classes/components.display.Alert.html">components.display.Alert</a></li>
            
                <li><a href="../classes/components.display.components.containers.TabPanel.html">components.display.components.containers.TabPanel</a></li>
            
                <li><a href="../classes/components.display.components.nav.Base.html">components.display.components.nav.Base</a></li>
            
                <li><a href="../classes/components.display.Divider.html">components.display.Divider</a></li>
            
                <li><a href="../classes/components.display.Header.html">components.display.Header</a></li>
            
                <li><a href="../classes/components.display.Image.html">components.display.Image</a></li>
            
                <li><a href="../classes/components.display.Loader.html">components.display.Loader</a></li>
            
                <li><a href="../classes/components.display.Progress.html">components.display.Progress</a></li>
            
                <li><a href="../classes/components.display.Span.html">components.display.Span</a></li>
            
                <li><a href="../classes/components.fields.Checkbox.html">components.fields.Checkbox</a></li>
            
                <li><a href="../classes/components.fields.ComboBox.html">components.fields.ComboBox</a></li>
            
                <li><a href="../classes/components.fields.components.button.Icon.html">components.fields.components.button.Icon</a></li>
            
                <li><a href="../classes/components.fields.components.display.Text.html">components.fields.components.display.Text</a></li>
            
                <li><a href="../classes/components.fields.Datepicker.html">components.fields.Datepicker</a></li>
            
                <li><a href="../classes/components.fields.Display.html">components.fields.Display</a></li>
            
                <li><a href="../classes/components.fields.Email.html">components.fields.Email</a></li>
            
                <li><a href="../classes/components.fields.File.html">components.fields.File</a></li>
            
                <li><a href="../classes/components.fields.Hidden.html">components.fields.Hidden</a></li>
            
                <li><a href="../classes/components.fields.HtmlEditor.html">components.fields.HtmlEditor</a></li>
            
                <li><a href="../classes/components.fields.Password.html">components.fields.Password</a></li>
            
                <li><a href="../classes/components.fields.plugins.InplaceEdit.html">components.fields.plugins.InplaceEdit</a></li>
            
                <li><a href="../classes/components.fields.Radio.html">components.fields.Radio</a></li>
            
                <li><a href="../classes/components.fields.Suggest.html">components.fields.Suggest</a></li>
            
                <li><a href="../classes/components.fields.TextArea.html">components.fields.TextArea</a></li>
            
                <li><a href="../classes/components.menu.components.common.mixins.Badges.html">components.menu.components.common.mixins.Badges</a></li>
            
                <li><a href="../classes/components.menu.components.fields.SelectBox.html">components.menu.components.fields.SelectBox</a></li>
            
                <li><a href="../classes/components.menu.Item.html">components.menu.Item</a></li>
            
                <li><a href="../classes/components.nav.Breadcrumbs.html">components.nav.Breadcrumbs</a></li>
            
                <li><a href="../classes/components.nav.components.common.mixins.Label.html">components.nav.components.common.mixins.Label</a></li>
            
                <li><a href="../classes/components.nav.components.display.List.html">components.nav.components.display.List</a></li>
            
                <li><a href="../classes/components.nav.components.menu.ContextMenu.html">components.nav.components.menu.ContextMenu</a></li>
            
                <li><a href="../classes/components.nav.List.html">components.nav.List</a></li>
            
                <li><a href="../classes/components.nav.Navbar.html">components.nav.Navbar</a></li>
            
                <li><a href="../classes/components.table.plugins.EditableTable.html">components.table.plugins.EditableTable</a></li>
            
                <li><a href="../classes/components.table.Table.html">components.table.Table</a></li>
            
                <li><a href="../classes/components.table.TreeTable.html">components.table.TreeTable</a></li>
            
                <li><a href="../classes/helper.html">helper</a></li>
            
                <li><a href="../classes/KeyEvents.html">KeyEvents</a></li>
            
                <li><a href="../classes/plugins.components.containers.Accordion.html">plugins.components.containers.Accordion</a></li>
            
                <li><a href="../classes/plugins.components.containers.Box.html">plugins.components.containers.Box</a></li>
            
                <li><a href="../classes/plugins.components.nav.Pagination.html">plugins.components.nav.Pagination</a></li>
            
                <li><a href="../classes/renderer.html">renderer</a></li>
            
                <li><a href="../classes/ui.html">ui</a></li>
            
                <li><a href="../classes/utils.html">utils</a></li>
            
                <li><a href="../classes/view.Base.html">view.Base</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/Firebrick.engine.html">Firebrick.engine</a></li>
            
                <li><a href="../modules/Firebrick.ui.html">Firebrick.ui</a></li>
            
                <li><a href="../modules/Firebrick.ui.components.html">Firebrick.ui.components</a></li>
            
                <li><a href="../modules/plugins.html">plugins</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src\components\table\Table.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*!
 * @author Steven Masala [me@smasala.com]
 */

/**
 * @module Firebrick.ui.components
 * @extends components.common.Base
 * @namespace components.table
 * @class Table
 */
define( [ &quot;knockout&quot;, &quot;knockout-mapping&quot;, &quot;jquery&quot;, &quot;doT&quot;, &quot;text!./Table.html&quot;, &quot;text!./tpls/checkbox.html&quot;, &quot;../common/Base&quot;,
        &quot;datatables&quot;, &quot;jquery-treetable&quot;, &quot;responsive-tables-js&quot;, &quot;./plugins/EditableTable&quot; ], function( ko, kom, $, doT, tpl, checkboxTpl ) {
	&quot;use strict&quot;;

	if ( !ko.bindingHandlers.trRenderer ) {
		/*
		 * optionsRenderer for list create dynamic css along with static
		 */
		ko.virtualElements.allowedBindings.trRenderer = true;
		ko.bindingHandlers.trRenderer = {
			init: function( element, valueAccessor, allBindings, viewModel  ) { //bindingContext
				var clazz = valueAccessor(), propName = clazz.propDataName, $el = $( element );

				$el.prop( propName, viewModel );
			}
		};
	}

	return Firebrick.define( &quot;Firebrick.ui.table.Table&quot;, {
	    extend: &quot;Firebrick.ui.common.Base&quot;,
	    /**
		 * @property sName
		 * @type {String}
		 * @default &quot;fb-ui-table&quot;
		 */
	    sName: &quot;table.table&quot;,
	    /**
		 * @property tpl
		 * @type {String} html
		 */
	    tpl: tpl,
	    /**
		 * sets the bootstrap css class &quot;responsive&quot; to the table
		 * @property responsiveClass
		 * @type {Boolean}
		 * @default true
		 */
	    responsiveClass: true,
	    /**
		 * activates the responsive-table-js package on the table
		 * @property responsive
		 * @type {Boolean}
		 * @default true
		 */
	    responsive: true,
	    /**
		 * @property editType
		 * @type {String} row|cell
		 * @default &quot;row&quot;
		 */
	    editType: &quot;row&quot;,
	    /**
		 * @example columns: [{ mapping: {String} dot notation to property in
		 *          store json type: {String} [default=input] | number, float,
		 *          checkbox, date - used to format the value or run a default
		 *          renderer format: {String} - used to format the type if
		 *          needed. Example for type=date - format YYYY-MM-DD editable:
		 *          {Boolean} [default=true] - specify whether the cells in this
		 *          column should be editable. Only valid if the table&#x27;s
		 *          editabletable is also set to true editConf: {Object} used to
		 *          configure the Editable table plugin - see Plugin for
		 *          configuration text: {String} column title (
		 *          &lt;th&gt;&lt;/th&gt;) renderer: {Function} define this to parse the
		 *          value before it is display and output &quot;anything&quot; you like -
		 *          for example to convert an String value into an &lt;img&gt; tag.
		 *          data-bind attributes on dynamic created elements work here
		 *          too arguments passed are -&gt; (columnConfig, koValue,
		 *          rawValue) }]
		 * @property columns
		 * @type {Array of Objects}
		 * @default null
		 */
	    columns: null,
	    /**
		 * @property tdSpanClass
		 * @type {String}
		 * @default &quot;fb-ui-tablecell-data&quot;
		 */
	    tdSpanClass: &quot;fb-ui-tablecell-data&quot;,
	    /**
		 * @property tableStriped
		 * @type {Boolean|String}
		 * @default true
		 */
	    tableStriped: true,
	    /**
		 * @property tableHover
		 * @type {Boolean|String}
		 * @default true
		 */
	    tableHover: true,
	    /**
		 * @property tableCondensed
		 * @type {Boolean|String}
		 * @default false
		 */
	    tableCondensed: false,
	    /**
		 * @property tableBordered
		 * @type {Boolean|String}
		 * @default false
		 */
	    tableBordered: false,
	    /**
		 * @property showHeadings
		 * @type {Boolean}
		 * @default true
		 */
	    showHeadings: true,
	    /**
		 * @property showRows
		 * @type {Boolean}
		 * @default true
		 */
	    showRows: true,
	    /**
		 * activate the editable table plugin
		 * @property editabletable
		 * @type {Boolean}
		 * @default false
		 */
	    editabletable: false,
	    /**
		 * which property the data of the tr is stored to the element
		 * @property propDataName
		 * @type {String}
		 * @default &quot;fb-ui-tr-data&quot;
		 */
	    propDataName: &quot;fb-ui-tr-data&quot;,
	    /**
		 * use option to enable and configure datable:
		 * http://datatables.net/examples/index
		 * @property datatable
		 * @type {Boolean|Object|Function (return Object) }
		 * @default false
		 */
	    datatable: false,
	    /**
		 * default datatable configurations
		 * @property _datatable
		 * @type {Object|Function (return Object) }
		 * @default {}
		 */
	    _datatable: {},
	    /**
		 * works with parameter treetable
		 * @property expandable
		 * @type {Boolean}
		 * @default true
		 */
	    expandable: true,
	    /**
		 * set the initialState property of the tree table plugin
		 * @property expanded
		 * @type {Boolean}
		 * @default false
		 */
	    expanded: false,
	    /**
		 * works with parameter treetable
		 * @property showCaption
		 * @type {Boolean|String}
		 * @default true
		 */
	    showCaption: true,
	    /**
		 * works with parameter treetable
		 * @property expandText
		 * @type {String}
		 * @default &quot;Expand&quot;
		 */
	    expandText: &quot;Expand&quot;,
	    /**
		 * works with parameter treetable
		 * @property collapseText
		 * @type {String}
		 * @default &quot;Collapse&quot;
		 */
	    collapseText: &quot;Collapse&quot;,
	    /**
		 * whether to show the collapse / expand buttons for the treetable
		 * @property showOptions
		 * @type {Boolean}
		 * @default true
		 */
	    showOptions: true,
	    /**
		 * this is the very config that is used to configure the modal that is
		 * shown for editing a record - use the properties of
		 * Firebrick.ui.containers.Modal
		 * @example { _showEditButtons: true|false //controls whether the footer
		 *          buttons are shown [default=true] _editOkText: &quot;OK&quot; //
		 *          [default=&quot;OK&quot;] only if _showEditButtons === true
		 *          _editCancelText: &quot;Cancel&quot; // [default=&quot;Cancel&quot;] only if
		 *          _showEditButtons === true }
		 * @event beforeChanges, afterChanges
		 * @property editModalConfig
		 * @type {Object}
		 * @default null
		 */
	    editModalConfig: null,
	    /**
		 * @method _itemId
		 * @private
		 * @type {Integer}
		 * @default 0
		 */
	    _itemId: 0,
	    /**
		 * configuration: http://ludo.cubicphuse.nl/jquery-treetable/
		 * @property treetable
		 * @type {Boolean|Object|Function (return Object)}
		 * @default false
		 */
	    treetable: false,
	    /**
		 * default treetable configuration
		 * @property _treetable
		 * @private
		 * @type {Object|Function (return Object) }
		 * @return {Object}
		 * @default {}
		 */
	    _treetable: function() {
		    var me = this;
		    return {
		        expandable: me.expandable,
		        initialState: me.expanded ? &quot;expanded&quot; : &quot;collapsed&quot;,
		        expanderTemplate: &#x27;&lt;a class=&quot;glyphicon&quot;&gt;&amp;nbsp;&lt;/a&gt;&#x27;
		    };
	    },
	    /**
		 * used to cache a ko computed observable by _allCheckedObservable()
		 * @property _allCheckedObservableProp
		 * @private
		 * @type {KO Computed}
		 * @default null
		 */
	    _allCheckedObservableProp: null,
	    /**
		 * @method init
		 */
	    init: function() {
		    var me = this;

		    me.data = kom.fromJS( me.data );

		    me.on( &quot;rendered&quot;, function() {
			    var id = me.getId(), table = me.getElement();
			    if ( me.datatable &amp;&amp; !me.treetable ) {
				    me._preTableConfig( &quot;datatable&quot; );
				    table.dataTable( me.datatable );
			    }

			    if ( me.editabletable ) {
				    table.EditableTable();
			    }

			    if ( me.treetable ) {
				    if ( me.showOptions ) {
					    $( &quot;a#fb-expand-&quot; + id ).on( &quot;click&quot;, me.generateOnclick( &quot;expandAll&quot; ) );
					    $( &quot;a#fb-collapse-&quot; + id ).on( &quot;click&quot;, me.generateOnclick( &quot;collapseAll&quot; ) );
				    }
				    me._preTableConfig( &quot;treetable&quot; );
				    table.treetable( me.treetable );
			    }
			    if ( me.responsive &amp;&amp; window.responsiveTables ) {
				    window.responsiveTables.update( id );
			    }
		    } );
		    me.callParent( arguments );
	    },
	    /**
		 * used by _preTableConfig
		 * @method __preTableConfig
		 * @param propName {String}
		 * @private
		 * @return {self}
		 */
	    __preTableConfig: function( propName ) {
		    var me = this, prop = me[ propName ];
		    if ( !$.isPlainObject( prop ) &amp;&amp; !$.isFunction( prop ) ) {
			    prop = {};
		    }
		    if ( $.isFunction( me[ propName ] ) ) {
			    prop = prop.apply( me );
		    }
		    me[ propName ] = prop;
		    return me;
	    },
	    /**
		 * @method _preTableConfig
		 * @param propName {String}
		 * @private
		 * @return {self}
		 */
	    _preTableConfig: function( propName ) {
		    var me = this, defaultProp = &quot;_&quot; + propName;
		    me.__preTableConfig( propName );
		    me.__preTableConfig( defaultProp );
		    me[ propName ] = Firebrick.utils.copyover( me[ propName ], me[ defaultProp ] );
		    return me;
	    },
	    /**
		 * @method containerBindings
		 * @return {Object}
		 */
	    containerBindings: function() {
		    var me = this;
		    return {
			    css: {
				    &quot;&#x27;responsive&#x27;&quot;: me.responsiveClass
			    }
		    };
	    },
	    /**
		 * @method _getData
		 * @private
		 * @return {Object}
		 */
	    _getData: function() {
		    var me = this;
		    if ( me.store &amp;&amp; me.store.isStore ) {
			    return &quot;Firebrick.getById(&#x27;&quot; + me.getId() + &quot;&#x27;).getData()&quot;;
		    }
		    return {};
	    },
	    /**
		 * @method bindings
		 * @return {Object}
		 */
	    bindings: function() {
		    var me = this, obj = me.callParent( arguments );

		    obj[ &quot;with&quot; ] = me._getData();
		    obj.css.table = true;
		    obj.css[ &quot;&#x27;table-striped&#x27;&quot; ] = me.tableStriped;
		    obj.css[ &quot;&#x27;table-hover&#x27;&quot; ] = me.tableHover;
		    obj.css[ &quot;&#x27;table-condensed&#x27;&quot; ] = me.tableCondensed;
		    obj.css[ &quot;&#x27;table-bordered&#x27;&quot; ] = me.tableBordered;
		    obj.css[ &quot;&#x27;responsive&#x27;&quot; ] = me.responsive;

		    return obj;
	    },
	    /**
		 * @method theadBindings
		 * @return {Object}
		 */
	    theadBindings: function() {
		    var me = this, obj = {
			    &quot;if&quot;: false
		    };

		    if ( me.columns ) {
			    obj[ &quot;if&quot; ] = true;
		    }

		    return obj;
	    },
	    /**
		 * @method theadTRBindings
		 * @return {Object}
		 */
	    theadTRBindings: function() {
		    return {
			    &quot;foreach&quot;: &quot;Firebrick.getById(&#x27;&quot; + this.getId() + &quot;&#x27;).columns&quot;
		    };
	    },
	    /**
		 * @method theadTRTDBindings
		 * @return {Object}
		 */
	    theadTRTDBindings: function() {
		    var me = this;
		    return {
			    htmlWithBinding: &quot;Firebrick.getById(&#x27;&quot; + me.getId() + &quot;&#x27;)._thRenderer($data, $context, $parent, $root)&quot;
		    };
	    },
	    /**
		 * used by theadTRTDBindings
		 * @method _thRenderer
		 * @private
		 * @param $data
		 * @param $context
		 * @param $parent
		 * @param $root
		 * @return {Any}
		 */
	    _thRenderer: function( $data ) {
		    var me = this, type = $data.type, html = $data.text ? $data.text : $data;

		    if ( type === &quot;checkbox&quot; ) {
			    html = &#x27;&lt;input type=&quot;checkbox&quot; data-bind=&quot;&#x27; + me.dataBind( &quot;thCheckboxBindings&quot; ) + &#x27;&quot; /&gt; &#x27; + html;
		    }

		    return html;
	    },
	    /**
		 * @method tbodyBindings
		 * @return {Object}
		 */
	    tbodyBindings: function() {
		    return {};
	    },
	    /**
		 * @method tbodyTRTemplateBindings
		 * @return {Object}
		 */
	    tbodyTRTemplateBindings: function() {
		    var me = this;
		    return {
			    template: {
			        name: me.parseBind( me._getTplId() ),
			        &quot;foreach&quot;: &quot;$data&quot;
			    }
		    };
	    },
	    /**
		 * @method tbodyTRBindings
		 * @return {Object}
		 */
	    tbodyTRBindings: function() {
		    var me = this;
		    return {
		        foreach: &quot;Firebrick.getById(&#x27;&quot; + me.getId() + &quot;&#x27;).columns&quot;,
		        &quot;attr&quot;: {
		            &quot;&#x27;data-tt-id&#x27;&quot;: &quot;Firebrick.getById(&#x27;&quot; + me.getId() + &quot;&#x27;)._getItemId( $data )&quot;,
		            &quot;&#x27;data-tt-parent-id&#x27;&quot;: &quot;$parent._ttId&quot;
		        },
		        css: {
			        &quot;group&quot;: &quot;$data.children ? true : false&quot;
		        },
		        trRenderer: &quot;Firebrick.getById(&#x27;&quot; + me.getId() + &quot;&#x27;)&quot;
		    };
	    },
	    /**
		 * @method _getItemId
		 * @param $data {ko data object}
		 * @return {ko.observable || Integer}
		 */
	    _getItemId: function( $data ) {
		    var me = this;

		    if ( $.isPlainObject( $data ) ) {
			    if ( !$data.hasOwnProperty( &quot;_ttId&quot; ) ) {
				    $data._ttId = me._itemId++;
			    }
			    return $data._ttId;
		    }

		    return;
	    },
	    /**
		 * @method tbodyTRTDBindings
		 * @return {Object}
		 */
	    tbodyTRTDBindings: function() {
		    return {
			    attr: {
			        &quot;&#x27;data-tt-id&#x27;&quot;: &quot;$index&quot;,
			        &quot;&#x27;fb-ui-row-id&#x27;&quot;: &quot;$parentContext.$parent._ttId&quot;
			    }
		    };
	    },
	    /**
		 * @method tbodyTRTDSpanBindings
		 * @return {Object}
		 */
	    tbodyTRTDSpanBindings: function() {
		    var me = this, obj = {
		        css: {},
		        allowBindings: true,
		        htmlWithBinding: &quot;Firebrick.getById(&#x27;&quot; + me.getId() + &quot;&#x27;)._tdRenderer($data, $context, $parentContext, $root, $element)&quot;
		    };

		    obj.css[ me.parseBind( me.tdSpanClass ) ] = true;

		    return obj;
	    },
	    /**
		 * @method _tdRenderer
		 * @private
		 * @return {Any}
		 */
	    _tdRenderer: function( $data, $context, $parentContext, $root, $element ) {
		    var me = this, data = Firebrick.utils.getDeepProperty( $data.mapping, $parentContext.$data ), //get the value of mapping property in the parent data object
		    value = me.b( data ), //get the primitive value - so if an observable (function) simply call it, else return primitive
		    type = $data.type, //check the column for the type specified
		    cssClazz = &quot;fb-ui-col-&quot; + $context.$index();

		    if ( !$data._colId ) {
			    $data._colId = cssClazz;
		    }

		    $( $element ).addClass( cssClazz );

		    if ( type ) {
			    if ( type === &quot;number&quot; ) {
				    value = parseInt( value );
			    } else if ( type === &quot;float&quot; ) {
				    value = parseFloat( value );
			    } else if ( type === &quot;checkbox&quot; ) {
				    if ( data !== null ) {
					    if ( typeof value === &quot;string&quot; ) {
						    value = value === &quot;true&quot; ? true : false;
					    }
					    value = me.checkboxRenderer( $data, data, value, $context, $parentContext, $root, $element );
				    }
			    }
		    }

		    if ( $data.renderer ) {
			    value = $data.renderer( $data, data, value, $context, $parentContext, $root, $element );
		    }

		    return value;
	    },
	    /**
		 * @method thCheckboxBindings
		 * @return {Object}
		 */
	    thCheckboxBindings: function() {
		    var me = this, obj = {};

		    obj.checked = &quot;Firebrick.getById(&#x27;&quot; + me.getId() + &quot;&#x27;)._allCheckedObservable($context)&quot;;

		    return obj;
	    },
	    /**
		 * adapted from: http://stackoverflow.com/a/31520911/425226
		 * @method _allCheckedObservable
		 * @private
		 * @param $context {ko Object}
		 * @return ko.computed
		 */
	    _allCheckedObservable: function( $context ) {
		    var me = this, $col = $context.$data, $el = me.getElement();
		    //store in prop and return that prop to stop memory leak from occurring
		    me._allCheckedObservableProp = me._allCheckedObservableProp || ko.computed( {
		        read: function() {
			        var mapping = $col.mapping, data = me.getData(), func = function( _data ) { //recursive function
				        var it, children;
				        it = Firebrick.utils.getDeepProperty( mapping, _data ); //returns property or null
				        if ( $.isFunction( it ) &amp;&amp; !it() ) {
					        return false;
				        } else if ( _data.children ) {
					        children = _data.children();
					        for ( var i = 0, l = children.length; i &lt; l; i++ ) {
						        return func( children[ i ] );
					        }
				        }
				        return true;
			        };

			        if ( data &amp;&amp; $.isFunction( data ) ) {
				        data = data();
				        for ( var i = 0, l = data.length; i &lt; l; i++ ) {
					        return func( data[ i ] ); //iterate over all properties and children to determine whether the checkbox should be checked initially
				        }
			        }

			        return false;
		        },
		        write: function( newValue ) {
			        var $selector = $( &quot;tbody tr&quot;, $el ), data, mapping = $col.mapping;
			        for ( var i = 0, l = $selector.length; i &lt; l; i++ ) {
				        data = Firebrick.utils.getDeepProperty( mapping, $( $selector[ i ] ).prop( me.propDataName ) ); //returns property or null
				        if ( $.isFunction( data ) ) {
					        data( newValue );
				        }
			        }
		        }
		    } );
		    return me._allCheckedObservableProp;
	    },
	    /**
		 * @method checkboxRenderer
		 * @param $data
		 * @param data
		 * @param value
		 * @return {String} HTML
		 */
	    checkboxRenderer: function( $data, data, value ) {
		    var me = this;
		    return doT.template( checkboxTpl )( {
		        scope: me,
		        value: value
		    } );
	    },
	    /**
		 * used by checkbox tpl
		 * @method checkboxBindings
		 * @param value
		 * @return
		 */
	    checkboxBindings: function( ) {
		    return {
			    checked: &quot;Firebrick.utils.getDeepProperty( $data.mapping, $parent )&quot;
		    };
	    },
	    /**
		 * @private
		 * @method _getTplId
		 * @return {String}
		 */
	    _getTplId: function() {
		    return &quot;fb-ui-tpl-&quot; + this.getId();
	    },
	    /**
		 * @method tbodyTRChildrenTemplateBindings
		 * @return {Object}
		 */
	    tbodyTRChildrenTemplateBindings: function() {
		    var me = this;
		    return {
			    template: {
			        name: me.parseBind( me._getTplId() ),
			        &quot;foreach&quot;: &quot;$data.children&quot;
			    }
		    };
	    },
	    /**
		 * @method captionBindings
		 * @return {Object}
		 */
	    captionBindings: function() {
		    var me = this;
		    return {
			    show: me.showCaption
		    };
	    },
	    /**
		 * @method generateOnclick
		 * @param type {String} expandAll, collapseAll
		 * @return {Function}
		 */
	    generateOnclick: function( type ) {
		    var me = this;
		    return function() {
			    me.getElement().treetable( type );
			    return false;
		    };
	    },
	    /**
		 * @method expandBindings
		 * @return {Object}
		 */
	    expandBindings: function() {
		    var me = this;
		    return {
		        text: me.textBind( me.expandText ),
		        attr: {
		            id: me.parseBind( &quot;fb-expand-&quot; + me.getId() ),
		            href: &quot;&#x27;&#x27;&quot;
		        }
		    };
	    },
	    /**
		 * @method collapseBindings
		 * @return {Object}
		 */
	    collapseBindings: function() {
		    var me = this;
		    return {
		        text: me.textBind( me.collapseText ),
		        attr: {
		            id: me.parseBind( &quot;fb-collapse-&quot; + me.getId() ),
		            href: &quot;&#x27;&#x27;&quot;
		        }
		    };
	    }

	} );
} );

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
